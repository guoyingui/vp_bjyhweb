webpackJsonp([28],{1035:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(363),n=l(s),i=a(155),c=l(i),d=a(785),o=l(d),p=a(802),m=l(p),r=a(688),u=l(r),f=a(54),h=l(f),V=a(55),g=l(V),y=a(59),E=l(y),C=a(93),v=l(C),w=a(8),N=l(w),S=a(4);a(652);a(1036);var k=(a(5),function(e){function t(e){(0,h["default"])(this,t);var a=(0,E["default"])(this,(t.__proto__||(0,u["default"])(t)).call(this,e));return a.systemRole=function(){var e=a;(0,S.vpQuery)("/{vpplat}/api/pur/point",{saccesskey:"system"}).then(function(t){var a=!0;t.data.system>0&&(a=!1),e.setState({disabled:a})})},a.getDataServer=function(){var e=[],t={};a.treeKey++,(0,S.vpAdd)("/{vpplat}/vfm/cfgFunction/getFunctionDataTree",{sparam:(0,m["default"])(t)}).then(function(t){e=t.data,a.setState({gData:e},function(){})})["catch"](function(e){})},a.onDragEnter=function(e){},a.onDrop=function(e){},a.onBeforeDrop=function(e){return new o["default"](function(e,t){setTimeout(function(){return e(!1)},1e3)})},a.onDragOver=function(e){},a.titleNode=function(e){var t,l;return N["default"].createElement("div",{className:"tree-node pr",style:{marginLeft:-10}},N["default"].createElement("div",{onClick:function(){return a.nodeclick(e)}},N["default"].createElement(S.VpIcon,{className:"tree-icon treeIconColor",type:"file-text"}),e.name),N["default"].createElement("div",{className:"tree-options"},N["default"].createElement("div",null,a.state.disabled?null:0==e.pid?N["default"].createElement(S.VpTooltip,{title:"新建"},N["default"].createElement(S.VpIconFont,(t={className:"tree-icon",onClick:function(){return a.nodeAddModel(!0,e)}},(0,c["default"])(t,"className","cursor m-lr-xs text-success"),(0,c["default"])(t,"type","vpicon-plus-circle"),t))):N["default"].createElement(S.VpTooltip,{title:"编辑"},N["default"].createElement(S.VpIconFont,(l={className:"tree-icon",onClick:function(){return a.nodeEditModel(!0,e)}},(0,c["default"])(l,"className","cursor m-lr-xs treeIconColor"),(0,c["default"])(l,"type","vpicon-edit"),l))))))},a.nodeclick=function(e){var t=a;if(t.state.saveType.iid=e.tid,t.state.saveType.type=e.itype,0==e.pid){t.state.saveType.ispoint="1",t.setState({firstDiv:"block",secondDiv:"none",saveType:t.state.saveType});var l={iid:e.tid};(0,S.vpAdd)("/{vpplat}/cfgfunction/getFunctionList",{sparam:(0,m["default"])(l)}).then(function(e){if(e.data.success&&(t.setState({itemFirstLists:e.data.data}),e.data.data.length<1)){var a=[{ientityid:"",ilinktype:"0",ssequencekey:"",iflagdsp:"",sclass:"",surl:"",iid:"-1",itypedsp:"系统定义",sname:"",itype:"",iflag:"0"}];t.setState({itemFirstLists:a})}})["catch"](function(e){})}else{t.state.saveType.ispoint="0",t.setState({firstDiv:"none",secondDiv:"block",saveType:t.state.saveType});var l={iid:e.tid};(0,S.vpAdd)("/{vpplat}/cfgfunction/getPointList",{sparam:(0,m["default"])(l)}).then(function(e){var a=e.data;if(a.success&&(t.setState({itemSecondLists:a.data}),a.data.length<1)){var l=[{ssequencekey:"",iflagdsp:"",ishowtabsdsp:"",iid:"-1",itypedsp:"",sname:"",iflag:"0",itype:"",ilinktype:"0",ishowtabs:"0",skey:"",staburl:"",icontroltype:""}];t.setState({itemSecondLists:l})}})["catch"](function(e){})}},a.addNewFirstDiv=function(){a.setState({itemFirstLists:[].concat((0,n["default"])(a.state.itemFirstLists),[{iid:a.fristDivKeys--,sname:"",surl:"",iflag:"0",ilinktype:"0",ientityid:"",ssequencekey:"",iflagdsp:"",sclass:"",itypedsp:"",itype:""}])})},a.deleteRowFirstDiv=function(e){a.state.itemFirstLists.map(function(t,l){t.iid==e&&a.state.itemFirstLists.splice(l,1)}),a.setState({itemFirstLists:a.state.itemFirstLists})},a.addNewSecondtDiv=function(){a.setState({itemSecondLists:[].concat((0,n["default"])(a.state.itemSecondLists),[{sname:"",ssequencekey:"",iid:a.secondDivKeys--,iflagdsp:"",itypedsp:"",iflag:"0",itype:"",ilinktype:"0",ishowtabs:"0",skey:"",staburl:"",icontroltype:""}])})},a.deleteRowSecondDiv=function(e){a.state.itemSecondLists.map(function(t,l){t.iid==e&&a.state.itemSecondLists.splice(l,1)}),a.setState({itemSecondLists:a.state.itemSecondLists})},a.handleInputChange=function(e){var t=e.target.value,l=$(e.target).attr("data-idx"),s=$(e.target).attr("data-key"),n={};n="1"==a.state.saveType.ispoint?a.state.itemFirstLists.find(function(e){return e.iid==l}):a.state.itemSecondLists.find(function(e){return e.iid==l}),n[s]=t,a.setState({itemFirstLists:a.state.itemFirstLists,itemSecondLists:a.state.itemSecondLists})},a.handleSwitchChange=function(e,t,l){var s=a.state.saveType,n=a.state.itemSecondLists;n="1"==s.ispoint?a.state.itemFirstLists:a.state.itemSecondLists;var i=-1;n.map(function(t,a){t.iid==e&&(i=a)}),n[i][l]=t?0:1,a.setState({itemSecondLists:a.state.itemSecondLists})},a.saveeditlist=function(){var e=a.state.saveType,t=e.ispoint;if(""==t)return void(0,S.VpAlertMsg)({message:"消息提示",description:"请先选择功能树节点！",type:"warning",showIcon:!0},3);if("1"==t){var l=!0;if(a.state.itemFirstLists.map(function(e,t){null!=e.sname&&""!=e.sname||(l=!1)}),!l)return void(0,S.VpAlertMsg)({message:"消息提示",description:"功能名称不能为空",type:"warning",showIcon:!0},3);e.subarr=a.state.itemFirstLists}else if("0"==t){var s=!0,n=/^[0-9]\d{2}$/;if(a.state.itemSecondLists.map(function(e,t){n.test(e.ssequencekey)||(s=!1)}),!s)return void(0,S.VpAlertMsg)({message:"消息提示",description:"排序码只能数字组成，并且长度为3！",type:"info",showIcon:!0},3);e.subarr=a.state.itemSecondLists}e.subarr.map(function(t,a){t.iid<0&&(e.subarr[a].iid="0")}),(0,S.vpAdd)("/{vpplat}/cfgfunction/save",{sparam:(0,m["default"])(e)}).then(function(e){var l=e.data;l.success?(0,S.VpAlertMsg)({message:"消息提示",description:l.msg,type:"success",showIcon:!0}):(0,S.VpAlertMsg)({message:"消息提示",description:l.msg,type:"error",showIcon:!0}),"1"==t&&(a.getDataServer(),a.treeRef.setNewData(a.state.gData))})["catch"](function(e){})},a.treeOnclick=function(e,t){},a.nodeAddModel=function(e,t){var l=a;l.state.firstModalData.iparent=t.tid,a.setState({visible:!0,modalTypeFlag:"1",snameShowFlag:!1,surlShowFlag:!1});var s={scode:"entity"};(0,S.vpAdd)("/{vpplat}/cfgentattr/getDataTypeList",{sparam:(0,m["default"])(s)}).then(function(e){var t=e.data;l.state.entityInfo=t,l.state.firstModalData.ientityid=t.data[0].iid,l.state.firstModalData.relentity=t.data[0].iid})["catch"](function(e){})},a.handleOk=function(){var e=a.state.firstModalData;a.setState({snameShowFlag:null==e.sname||""==e.sname,surlShowFlag:null==e.surl||""==e.surl},function(e){a.state.snameShowFlag||a.state.surlShowFlag}),null!=e.sname&&""!=e.sname&&null!=e.surl&&""!=e.surl&&((0,S.vpAdd)("/{vpplat}/cfgfunction/save",{sparam:(0,m["default"])(e)}).then(function(e){var t=e.data;t.success?(0,S.VpAlertMsg)({message:"消息提示",description:t.msg,type:"success",showIcon:!0}):(0,S.VpAlertMsg)({message:"消息提示",description:t.msg,type:"error",showIcon:!0})})["catch"](function(e){}),a.getDataServer(),a.treeRef.setNewData(a.state.gData),a.setState({visible:!1}))},a.handleCancel=function(){a.setState({visible:!1})},a.nodeEditModel=function(e,t){var l=a,s={scode:"entity"};(0,S.vpAdd)("/{vpplat}/cfgentattr/getDataTypeList",{sparam:(0,m["default"])(s)}).then(function(e){var t=e.data;l.state.entityInfo=t,a.modalKey=Math.random()})["catch"](function(e){});var n={iid:t.tid,iparent:t.pid};(0,S.vpAdd)("/{vpplat}/cfgfunction/get",{sparam:(0,m["default"])(n)}).then(function(e){var t=e.data;l.setState({secondVpmodelData:t.data}),l.setState({secondVpmodelSubData:t.subdata})})["catch"](function(e){}),l.setState({secondVpmodelVisible:!0,modalTypeFlag:"2",snameShowFlag:!1,surlShowFlag:!1})},a.modalSecondSaveOk=function(){var e=a.state.secondVpmodelData;a.setState({snameShowFlag:null==e.sname||""==e.sname,surlShowFlag:null==e.surl||""==e.surl},function(e){a.state.snameShowFlag||a.state.surlShowFlag}),null!=e.sname&&""!=e.sname&&null!=e.surl&&""!=e.surl&&(e.subarr=a.state.secondVpmodelSubData,(0,S.vpAdd)("/{vpplat}/cfgfunction/save",{sparam:(0,m["default"])(e)}).then(function(e){var t=e.data;t.success?(0,S.VpAlertMsg)({message:"消息提示",description:t.msg,type:"success",showIcon:!0}):(0,S.VpAlertMsg)({message:"消息提示",description:t.msg,type:"error",showIcon:!0})})["catch"](function(e){}),a.getDataServer(),a.treeRef.setNewData(a.state.gData),a.setState({secondVpmodelVisible:!1}))},a.modalSecondSaveCancel=function(){a.setState({secondVpmodelVisible:!1})},a.modalDeleteRowSecond=function(e){a.state.secondVpmodelSubData.map(function(t,l){t.iid==e&&a.state.secondVpmodelSubData.splice(l,1)}),a.setState({secondVpmodelSubData:a.state.secondVpmodelSubData})},a.modalHandleInputChange=function(e){var t=a,l=e.target.value,s=$(e.target).attr("data-idx"),n=$(e.target).attr("data-key"),i={};"1"==a.state.modalTypeFlag?"parent"==s?t.state.firstModalData[n]=l:(i=t.state.firstModalData.subarr.find(function(e){return e.iid==s}),i[n]=l):"parent"==s?t.state.secondVpmodelData[n]=l:(i=t.state.secondVpmodelSubData.find(function(e){return e.iid==s}),i[n]=l),a.setState({secondVpmodelData:a.state.secondVpmodelData,secondVpmodelSubData:a.state.secondVpmodelSubData,firstModalData:a.state.firstModalData})},a.modalHandleSwitchChange=function(e,t,l,s){var n={};if("1"==a.state.modalTypeFlag)if(n=a.state.itemFirstLists,s)n=a.state.firstModalData,n[l]=t?0:1;else{n=a.state.firstModalData.subarr;var i=-1;n.map(function(t,a){t.iid==e&&(i=a)}),n[i][l]=t?0:1}else if(s)n=a.state.secondVpmodelData,n[l]=t?0:1;else{n=a.state.secondVpmodelSubData;var c=-1;n.map(function(t,a){t.iid==e&&(c=a)}),n[c][l]=t?0:1}a.setState({firstModalData:a.state.firstModalData,secondVpmodelData:a.state.secondVpmodelData,secondVpmodelSubData:a.state.secondVpmodelSubData})},a.vpSelectChange=function(e){a.state.firstModalData.ientityid=e,a.state.firstModalData.relentity=e},a.state={gData:[],loading:!1,visible:!1,itemFirstLists:[{ientityid:"",ilinktype:"0",ssequencekey:"",iflagdsp:"",sclass:"",surl:"",iid:"-1",itypedsp:"系统定义",sname:"",itype:"",iflag:"0"}],itemSecondLists:[{ssequencekey:"",iflagdsp:"",ishowtabsdsp:"",iid:"-1",itypedsp:"",sname:"",iflag:"0",itype:"",ilinktype:"0",ishowtabs:"0",skey:"",staburl:"",icontroltype:""}],firstDiv:"block",secondDiv:"none",secondVpmodelVisible:!1,secondVpmodelData:{ireporttype:"",ientityid:"",ssequencekey:"",sclass:"",iflagdsp:"",iid:"-1",itypedsp:"",sicon:"",sname:"",itype:"",iflag:"",ilinktype:"",surl:"",iparent:""},secondVpmodelSubData:[],saveType:{iid:"",type:"",ispoint:"",subarr:[]},modalTypeFlag:"",firstModalData:{iid:"0",iparent:"",iflag:"0",ilinktype:"0",sname:"",surl:"",relentity:"",subarr:[{iid:"0",skey:"",sname:"",iflag:"0",ishowtabs:"0",staburl:"",ilinktype:"0"}],ientityid:""},entityInfo:{data:[],success:!0},snameShowFlag:!1,surlShowFlag:!1,disabled:!0},a.fristDivKeys=-2,a.secondDivKeys=-2,a.treeKey=1,a.modalKey=1,a}return(0,v["default"])(t,e),(0,g["default"])(t,[{key:"componentWillMount",value:function(){this.getDataServer()}},{key:"componentDidMount",value:function(){var e=window.vp.config.isOpenMenu,t=$(document).height(),a=0,l=0;0==e?(a=t-115,l=t-175):(a=t-149,l=t-209),$(".cfgFunction").find(".scrollBar-div").height(a),$(".cfgFunction").find(".content").height(l),this.systemRole()}},{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"render",value:function(){var e=this;return N["default"].createElement("div",{className:"full-height cfgFunction"},N["default"].createElement(S.VpRow,{gutter:10},N["default"].createElement(S.VpCol,{className:"gutter-row",span:4},N["default"].createElement("div",{className:"p-b-sm fw b-b funcpressi bg-white gutter-box"},"  功能树")),N["default"].createElement(S.VpCol,{className:"gutter-row",span:20},N["default"].createElement("div",{className:"p-b-sm fw b-b funcpressi bg-white gutter-box"},"  功能链接（注意：删除后需要点保存数据才生效）"))),N["default"].createElement(S.VpRow,{gutter:10,className:"vprow-marginTop"},N["default"].createElement(S.VpCol,{span:4},N["default"].createElement("div",{className:"scrollBar-div"},N["default"].createElement(S.VpTree,{ref:function(t){return e.treeRef=t},draggable:!0,key:this.treeKey,onDragEnter:this.onDragEnter,titleNode:this.titleNode,treeData:this.state.gData,onDrop:this.onDrop,onBeforeDrop:this.onBeforeDrop,onDragOver:this.onDragOver,onSelect:this.treeOnclick}),N["default"].createElement(S.VpModal,{ref:"modal",width:"70%",visible:this.state.visible,title:"新建",onOk:this.handleOk,onCancel:this.handleCancel,okText:"保存",cancelText:"返回",destroyOnClose:!0,wrapClassName:"cfgFunction"},N["default"].createElement("div",{className:"b-b p-sm"},N["default"].createElement("h5",{className:"box-title"},"基本信息")),N["default"].createElement("div",{className:"modal-Info-div"},N["default"].createElement(S.VpRow,{gutter:20,className:"modal-Vprow"},N["default"].createElement(S.VpCol,{span:3,className:"p-l-sm"},"功能名称:"),N["default"].createElement(S.VpCol,{span:6,className:"p-l-sm"},N["default"].createElement(S.VpInput,{type:"text",defaultValue:this.state.firstModalData.sname,"data-key":"sname","data-idx":"parent",onChange:this.modalHandleInputChange}),this.state.snameShowFlag?N["default"].createElement("span",{className:"span-content"},N["default"].createElement(S.VpIcon,{type:"cross-circle",className:""}),"必填"):null),N["default"].createElement(S.VpCol,{span:3,offset:1,className:"p-l-sm"},"功能链接:"),N["default"].createElement(S.VpCol,{span:6,className:"p-l-sm"},N["default"].createElement(S.VpInput,{maxLength:150,type:"text",defaultValue:this.state.firstModalData.surl,"data-key":"surl","data-idx":"parent",onChange:this.modalHandleInputChange}),this.state.surlShowFlag?N["default"].createElement("span",{className:"span-content"},N["default"].createElement(S.VpIcon,{type:"cross-circle",className:""}),"必填"):null)),N["default"].createElement(S.VpRow,{gutter:16,className:"modal-Vprow"},N["default"].createElement(S.VpCol,{span:3,className:"p-l-sm"},"关联实体:"),N["default"].createElement(S.VpCol,{span:6,className:"p-l-sm"},N["default"].createElement(S.VpSelect,{style:{width:"100%"},onChange:this.vpSelectChange,defaultValue:this.state.entityInfo.data.length>0?this.state.entityInfo.data[0].iid:""},N["default"].createElement(S.VpOption,{value:"0"},"请选择..."),this.state.entityInfo.data.map(function(e,t){return N["default"].createElement(S.VpOption,{key:e.iid,value:e.iid},e.sname)}))),N["default"].createElement(S.VpCol,{span:3,offset:1,className:"p-l-sm"},"功能状态:"),N["default"].createElement(S.VpCol,{span:6,className:"p-l-sm"},N["default"].createElement(S.VpFSwitch,{defaultChecked:0==this.state.firstModalData.iflag,"data-key":"iflag",onChange:function(t){return e.modalHandleSwitchChange(e.state.firstModalData.iid,t,"iflag",!0)}}))),N["default"].createElement(S.VpRow,{gutter:16,className:"modal-Vprow"},N["default"].createElement(S.VpCol,{span:3,className:"p-l-sm"},"Reat路由:"),N["default"].createElement(S.VpCol,{span:6,className:"p-l-sm"},N["default"].createElement(S.VpTooltip,{placement:"right",title:0==this.state.firstModalData.ilinktype?"是":"否"},N["default"].createElement(S.VpFSwitch,{className:"VpFSwitch",defaultChecked:0==this.state.firstModalData.ilinktype,"data-key":"ilinktype",onChange:function(t){return e.modalHandleSwitchChange(e.state.firstModalData.iid,t,"ilinktype",!0)}}))))),N["default"].createElement("div",{className:"b-b p-sm"},N["default"].createElement("h5",{className:"box-title"},"功能权限")),N["default"].createElement("div",{className:"modal-div"},N["default"].createElement(S.VpRow,{className:"contentVprow"},N["default"].createElement(S.VpCol,{span:4,className:"p-l-sm"},"权限码"),N["default"].createElement(S.VpCol,{span:4,className:"p-l-sm"},"权限名称"),N["default"].createElement(S.VpCol,{span:6,className:"p-l-sm"},"功能链接"),N["default"].createElement(S.VpCol,{span:2,className:"p-l-sm"},"排序码"),N["default"].createElement(S.VpCol,{span:3,className:"p-l-sm"},"页签显示"),N["default"].createElement(S.VpCol,{span:3,className:"p-l-sm"},"Reat路由"),N["default"].createElement(S.VpCol,{span:2,className:"p-l-sm"},"状态")),this.state.firstModalData.subarr.map(function(t,a){return N["default"].createElement(S.VpRow,{key:t.iid,className:"contentVprow"},N["default"].createElement(S.VpCol,{span:4,className:"p-l-sm"},N["default"].createElement(S.VpTooltip,{title:"删除"},N["default"].createElement(S.VpIconFont,{className:"tree-icon vp-delete minus-circle",onClick:function(){return e.modalDeleteRowSecond(t.iid)},type:"vpicon-minus-circle"})),N["default"].createElement(S.VpInput,{type:"text",defaultValue:t.skey,"data-key":"skey","data-idx":t.iid,onChange:e.modalHandleInputChange})),N["default"].createElement(S.VpCol,{span:4,className:"p-l-sm"},N["default"].createElement(S.VpInput,{type:"text",defaultValue:t.sname,"data-key":"sname","data-idx":t.iid,onChange:e.modalHandleInputChange})),N["default"].createElement(S.VpCol,{span:6,className:"p-l-sm"},N["default"].createElement(S.VpInput,{maxLength:150,type:"text",defaultValue:t.staburl,"data-key":"staburl","data-idx":t.iid,onChange:e.modalHandleInputChange})),N["default"].createElement(S.VpCol,{span:2,className:"p-l-sm"},N["default"].createElement(S.VpInput,{type:"text",defaultValue:t.ssequencekey,"data-key":"ssequencekey","data-idx":t.iid,onChange:e.modalHandleInputChange})),N["default"].createElement(S.VpCol,{span:3,className:"p-l-sm"},N["default"].createElement(S.VpTooltip,{placement:"right",title:0==t.ishowtabs?"显示":"不显示"},N["default"].createElement(S.VpFSwitch,{className:"VpFSwitch",defaultChecked:0==t.ishowtabs,"data-key":"ishowtabs",onChange:function(a){return e.modalHandleSwitchChange(t.iid,a,"ishowtabs")}}))),N["default"].createElement(S.VpCol,{span:3,className:"p-l-sm"},N["default"].createElement(S.VpTooltip,{placement:"right",title:0==t.ilinktype?"是":"否"},N["default"].createElement(S.VpFSwitch,{className:"VpFSwitch",defaultChecked:0==t.ilinktype,"data-key":"ilinktype",onChange:function(a){return e.modalHandleSwitchChange(t.iid,a,"ilinktype")}}))),N["default"].createElement(S.VpCol,{span:2,className:"p-l-sm"},N["default"].createElement(S.VpTooltip,{placement:"right",title:0==t.iflag?"启用":"禁用"},N["default"].createElement(S.VpFSwitch,{className:"VpFSwitch",defaultChecked:0==t.iflag,"data-key":"iflag",onChange:function(a){return e.modalHandleSwitchChange(t.iid,a,"iflag")}}))))}))),N["default"].createElement(S.VpModal,{width:"70%",visible:this.state.secondVpmodelVisible,title:"新建",onOk:this.modalSecondSaveOk,onCancel:this.modalSecondSaveCancel,okText:"保存",cancelText:"返回",key:this.modalKey,destroyOnClose:!0,wrapClassName:"cfgFunction"},N["default"].createElement("div",{className:"b-b p-sm"},N["default"].createElement("h5",{className:"box-title"},"基本信息")),N["default"].createElement("div",{className:"modal-Info-div"},N["default"].createElement(S.VpRow,{gutter:20,className:"modal-Vprow"},N["default"].createElement(S.VpCol,{span:3,className:"p-l-sm"},"功能名称:"),N["default"].createElement(S.VpCol,{span:6,className:"p-l-sm"},N["default"].createElement(S.VpInput,{type:"text",onChange:this.modalHandleInputChange,defaultValue:this.state.secondVpmodelData.sname,"data-key":"sname","data-idx":"parent"}),this.state.snameShowFlag?N["default"].createElement("span",{className:"span-content"},N["default"].createElement(S.VpIcon,{type:"cross-circle",className:""}),"必填"):null),N["default"].createElement(S.VpCol,{span:3,offset:1,className:"p-l-sm"},"功能链接:"),N["default"].createElement(S.VpCol,{span:6,className:"p-l-sm"},N["default"].createElement(S.VpInput,{maxLength:150,type:"text",onChange:this.modalHandleInputChange,defaultValue:this.state.secondVpmodelData.surl,"data-key":"surl","data-idx":"parent"}),this.state.surlShowFlag?N["default"].createElement("span",{className:"span-content"},N["default"].createElement(S.VpIcon,{type:"cross-circle",className:""}),"必填"):null)),N["default"].createElement(S.VpRow,{gutter:16,className:"modal-Vprow"},N["default"].createElement(S.VpCol,{span:3,className:"p-l-sm"},"关联实体:"),N["default"].createElement(S.VpCol,{span:6,className:"p-l-sm"},N["default"].createElement(S.VpSelect,{style:{width:"100%"},onChange:this.vpSelectChange,allowClear:!0,disabled:!0,defaultValue:this.state.secondVpmodelData.ientityid},N["default"].createElement(S.VpOption,{value:"0"},"请选择..."),this.state.entityInfo.data.map(function(e,t){return N["default"].createElement(S.VpOption,{key:e.iid,value:e.iid},e.sname)}))),N["default"].createElement(S.VpCol,{span:3,offset:1,className:"p-l-sm"},"功能状态:"),N["default"].createElement(S.VpCol,{span:6,className:"p-l-sm"},N["default"].createElement(S.VpTooltip,{placement:"right",title:0==this.state.secondVpmodelData.iflag?"是":"否"},N["default"].createElement(S.VpFSwitch,{className:"VpFSwitch","data-key":"iflag",defaultChecked:0==this.state.secondVpmodelData.iflag,onChange:function(t){return e.modalHandleSwitchChange(e.state.secondVpmodelData,t,"iflag",!0)}})))),N["default"].createElement(S.VpRow,{gutter:16,className:"modal-Vprow"},N["default"].createElement(S.VpCol,{span:3,className:"p-l-sm"},"Reat路由:"),N["default"].createElement(S.VpCol,{span:6,className:"p-l-sm"},N["default"].createElement(S.VpTooltip,{placement:"right",title:0==this.state.secondVpmodelData.ilinktype?"是":"否"},N["default"].createElement(S.VpFSwitch,{className:"VpFSwitch","data-key":"ilinktype",defaultChecked:0==this.state.secondVpmodelData.ilinktype,onChange:function(t){return e.modalHandleSwitchChange(e.state.secondVpmodelData,t,"ilinktype",!0)}}))))),N["default"].createElement("div",{className:"b-b p-sm"},N["default"].createElement("h5",{className:"box-title"},"功能权限")),N["default"].createElement("div",{className:"modal-div"},N["default"].createElement(S.VpRow,{className:"contentVprow"},N["default"].createElement(S.VpCol,{span:4,className:"p-l-sm"},"权限码"),N["default"].createElement(S.VpCol,{span:4,className:"p-l-sm"},"权限名称"),N["default"].createElement(S.VpCol,{span:6,className:"p-l-sm"},"功能链接"),N["default"].createElement(S.VpCol,{span:2,className:"p-l-sm"},"排序码"),N["default"].createElement(S.VpCol,{span:3,className:"p-l-sm"},"页签显示"),N["default"].createElement(S.VpCol,{span:3,className:"p-l-sm"},"Reat路由"),N["default"].createElement(S.VpCol,{span:2,className:"p-l-sm"},"状态")),this.state.secondVpmodelSubData.map(function(t,a){return N["default"].createElement(S.VpRow,{key:t.iid,className:"contentVprow"},N["default"].createElement(S.VpCol,{span:4,className:"p-l-sm"},e.state.disabled?null:t.iid<0||0!=t.itype?N["default"].createElement(S.VpTooltip,{title:"删除"},N["default"].createElement(S.VpIconFont,{className:"tree-icon vp-delete minus-circle",onClick:function(){return e.modalDeleteRowSecond(t.iid)},type:"vpicon-minus-circle"})):null,N["default"].createElement(S.VpInput,{type:"text",defaultValue:t.skey,"data-key":"skey","data-idx":t.iid,onChange:e.modalHandleInputChange})),N["default"].createElement(S.VpCol,{span:4,className:"p-l-sm"},N["default"].createElement(S.VpInput,{type:"text",defaultValue:t.sname,"data-key":"sname","data-idx":t.iid,onChange:e.modalHandleInputChange})),N["default"].createElement(S.VpCol,{span:6,className:"p-l-sm"},N["default"].createElement(S.VpInput,{maxLength:150,type:"text",defaultValue:t.staburl,"data-key":"staburl","data-idx":t.iid,onChange:e.modalHandleInputChange})),N["default"].createElement(S.VpCol,{span:2,className:"p-l-sm"},N["default"].createElement(S.VpInput,{type:"text",defaultValue:t.ssequencekey,"data-key":"ssequencekey","data-idx":t.iid,onChange:e.modalHandleInputChange})),N["default"].createElement(S.VpCol,{span:3,className:"p-l-sm"},N["default"].createElement(S.VpTooltip,{placement:"right",title:0==t.ishowtabs?"显示":"不显示"},N["default"].createElement(S.VpFSwitch,{className:"VpFSwitch",defaultChecked:0==t.ishowtabs,"data-key":"ishowtabs",onChange:function(a){return e.modalHandleSwitchChange(t.iid,a,"ishowtabs")}}))),N["default"].createElement(S.VpCol,{span:3,className:"p-l-sm"},N["default"].createElement(S.VpTooltip,{placement:"right",title:0==t.ilinktype?"是":"否"},N["default"].createElement(S.VpFSwitch,{className:"VpFSwitch",defaultChecked:0==t.ilinktype,"data-key":"ilinktype",onChange:function(a){return e.modalHandleSwitchChange(t.iid,a,"ilinktype")}}))),N["default"].createElement(S.VpCol,{span:2,className:"p-l-sm"},N["default"].createElement(S.VpTooltip,{placement:"right",title:0==t.iflag?"启用":"禁用"},N["default"].createElement(S.VpFSwitch,{className:"VpFSwitch",defaultChecked:0==t.iflag,"data-key":"iflag",onChange:function(a){return e.modalHandleSwitchChange(t.iid,a,"iflag")}}))))}))))),N["default"].createElement(S.VpCol,{span:20},N["default"].createElement("div",{className:"p-b-sm fw b-b funcpressi bg-white content scroll"},N["default"].createElement("div",{className:"p-lg scroll quotacontent"},N["default"].createElement("div",{className:"scrollBar-div-right",style:{display:this.state.firstDiv}},N["default"].createElement(S.VpRow,{className:"contentVprow"},N["default"].createElement(S.VpCol,{span:4,className:"p-l-sm"},"功能名称"),N["default"].createElement(S.VpCol,{span:6,className:"p-l-sm"},"功能链接"),N["default"].createElement(S.VpCol,{span:6,className:"p-l-sm"},"功能扩展类"),N["default"].createElement(S.VpCol,{span:3,className:"p-l-sm"},"Reat路由"),N["default"].createElement(S.VpCol,{span:2,className:"p-l-sm"},"状态")),this.state.itemFirstLists.map(function(t,a){return N["default"].createElement(S.VpRow,{key:t.iid,className:"contentVprow"},N["default"].createElement(S.VpCol,{span:4,className:"p-l-sm"},e.state.disabled?null:t.iid<0||0!=t.itype?N["default"].createElement(S.VpTooltip,{title:"删除"},N["default"].createElement(S.VpIconFont,{className:"tree-icon vp-delete minus-circle",onClick:function(){return e.deleteRowFirstDiv(t.iid)},type:"vpicon-minus-circle"})):null,N["default"].createElement(S.VpFInput,{type:"text",defaultValue:t.sname,"data-key":"sname","data-idx":t.iid,onChange:e.handleInputChange,placeholder:"请输入功能名称"})),N["default"].createElement(S.VpCol,{span:6,className:"p-l-sm"},N["default"].createElement(S.VpInput,{type:"text",defaultValue:t.surl,"data-key":"surl","data-idx":t.iid,onChange:e.handleInputChange,maxLength:150,placeholder:"请输入功能链接路径"})),N["default"].createElement(S.VpCol,{span:6,className:"p-l-sm"},N["default"].createElement(S.VpInput,{type:"text",defaultValue:t.sclass,"data-key":"sclass","data-idx":t.iid,onChange:e.handleInputChange,placeholder:"请输入功能扩展类路径"})),N["default"].createElement(S.VpCol,{span:3,className:"p-l-sm"},N["default"].createElement(S.VpTooltip,{placement:"right",title:0==t.ilinktype?"是":"否"},N["default"].createElement(S.VpFSwitch,{className:"VpFSwitch",size:"small",defaultChecked:0==t.ilinktype,"data-key":"ilinktype",onChange:function(a){return e.handleSwitchChange(t.iid,a,"ilinktype")}}))),N["default"].createElement(S.VpCol,{span:2,className:"p-l-sm"},N["default"].createElement(S.VpTooltip,{placement:"right",title:0==t.iflag?"启用":"禁用"},N["default"].createElement(S.VpFSwitch,{className:"VpFSwitch",defaultChecked:0==t.iflag,"data-key":"iflag",onChange:function(a){return e.handleSwitchChange(t.iid,a,"iflag")}}))))}),N["default"].createElement(S.VpRow,{className:"m-t-sm"},this.state.disabled?null:N["default"].createElement("a",{onClick:this.addNewFirstDiv},N["default"].createElement(S.VpIcon,{type:"plus-circle",className:"m-l-sm m-r-xs"}),"再添加一个"))),N["default"].createElement("div",{className:"scrollBar-div-right",style:{display:this.state.secondDiv}},N["default"].createElement(S.VpRow,{className:"contentVprow"},N["default"].createElement(S.VpCol,{span:4,className:"p-l-sm"},"权限码"),N["default"].createElement(S.VpCol,{span:4,className:"p-l-sm"},"权限名称"),N["default"].createElement(S.VpCol,{span:6,className:"p-l-sm"},"功能链接"),N["default"].createElement(S.VpCol,{span:2,className:"p-l-sm"},"排序码"),N["default"].createElement(S.VpCol,{span:3,className:"p-l-sm"},"页签显示"),N["default"].createElement(S.VpCol,{span:3,className:"p-l-sm"},"Reat路由"),N["default"].createElement(S.VpCol,{span:2,className:"p-l-sm"},"状态")),this.state.itemSecondLists.map(function(t,a){return N["default"].createElement(S.VpRow,{key:t.iid,className:"contentVprow"},N["default"].createElement(S.VpCol,{span:4,className:"p-l-sm"},t.iid<0||0!=t.itype?N["default"].createElement(S.VpTooltip,{title:"删除"},N["default"].createElement(S.VpIconFont,{className:"tree-icon vp-delete minus-circle",onClick:function(){return e.deleteRowSecondDiv(t.iid)},type:"vpicon-minus-circle"})):null,N["default"].createElement(S.VpInput,{type:"text",defaultValue:t.skey,"data-key":"skey","data-idx":t.iid,onChange:e.handleInputChange,placeholder:"请输入权限码"})),N["default"].createElement(S.VpCol,{span:4,className:"p-l-sm"},N["default"].createElement(S.VpInput,{type:"text",defaultValue:t.sname,"data-key":"sname","data-idx":t.iid,onChange:e.handleInputChange,placeholder:"请输入权限名称"})),N["default"].createElement(S.VpCol,{span:6,className:"p-l-sm"},N["default"].createElement(S.VpInput,{type:"text",defaultValue:t.staburl,"data-key":"staburl","data-idx":t.iid,onChange:e.handleInputChange,maxLength:150,placeholder:"请输入功能链接路径"})),N["default"].createElement(S.VpCol,{span:2,className:"p-l-sm"},N["default"].createElement(S.VpInput,{type:"text",defaultValue:t.ssequencekey,"data-key":"ssequencekey","data-idx":t.iid,onChange:e.handleInputChange,placeholder:"请输入排序码"})),N["default"].createElement(S.VpCol,{span:3,className:"p-l-sm"},N["default"].createElement(S.VpTooltip,{placement:"right",title:0==t.ishowtabs?"显示":"不显示"},N["default"].createElement(S.VpFSwitch,{className:"VpFSwitch",defaultChecked:0==t.ishowtabs,"data-key":"ishowtabs",onChange:function(a){return e.handleSwitchChange(t.iid,a,"ishowtabs")}}))),N["default"].createElement(S.VpCol,{span:3,className:"p-l-sm"},N["default"].createElement(S.VpTooltip,{placement:"right",title:0==t.ilinktype?"是":"否"},N["default"].createElement(S.VpFSwitch,{className:"VpFSwitch",defaultChecked:0==t.ilinktype,"data-key":"ilinktype",onChange:function(a){return e.handleSwitchChange(t.iid,a,"ilinktype")}}))),N["default"].createElement(S.VpCol,{span:2,className:"p-l-sm"},N["default"].createElement(S.VpTooltip,{placement:"right",title:0==t.iflag?"启用":"禁用"},N["default"].createElement(S.VpFSwitch,{className:"VpFSwitch",defaultChecked:0==t.iflag,"data-key":"iflag",onChange:function(a){return e.handleSwitchChange(t.iid,a,"iflag")}}))))}),N["default"].createElement(S.VpRow,{className:"m-t-sm"},N["default"].createElement("a",{onClick:this.addNewSecondtDiv},N["default"].createElement(S.VpIcon,{type:"plus-circle",className:"m-l-sm m-r-xs"}),"再添加一个"))))),N["default"].createElement(S.VpRow,{className:"footFixedCfg b-t p-sm text-center bg-white"},this.state.disabled?null:N["default"].createElement(S.VpButton,{loading:this.state.loading,onClick:this.saveeditlist,className:"vp-btn-br",type:"primary"},"保存")))))}}]),t}(w.Component));t["default"]=k},1036:function(e,t,a){var l=a(1037);"string"==typeof l&&(l=[[e.id,l,""]]);var s={hmr:!0};s.transform=void 0;a(439)(l,s);l.locals&&(e.exports=l.locals)},1037:function(e,t){}});