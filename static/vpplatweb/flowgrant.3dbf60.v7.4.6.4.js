webpackJsonp([10],{955:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(688),i=l(n),r=a(54),o=l(r),u=a(55),d=l(u),c=a(59),s=l(c),f=a(93),m=l(f),v=a(8),p=l(v),h=a(4),g=function(e){function t(e){(0,o["default"])(this,t);var a=(0,s["default"])(this,(t.__proto__||(0,i["default"])(t)).call(this,e));return a.queryHeader=function(){var e=[{title:"授权者",dataIndex:"assigneeName",key:"assigneeName"},{title:"被授予者",dataIndex:"delegateeName",key:"delegateeName"},{title:"创建时间",dataIndex:"createtime",key:"createtime"},{title:"开始时间",dataIndex:"starttime",key:"starttime"},{title:"结束时间",dataIndex:"endtime",key:"endtime"},{title:"授权类型",dataIndex:"typeName",key:"typeName"},{title:"流程",dataIndex:"flowname",key:"flowname",width:160,render:function(e,t){var a=""==t.piid?t.flowname:t.piName;return p["default"].createElement("span",null,a)}},{title:"状态",dataIndex:"flagName",key:"flagName",width:50},{title:"操作",fixed:"right",width:120,key:"operation",render:function(e,t){return p["default"].createElement("div",null,0==t.flag?p["default"].createElement(h.VpIcon,{title:"启用",onClick:function(e){return a.handleFlag(e,t)},className:"cursor m-lr-xs",type:"vpicon-check-circle-o"}):p["default"].createElement(h.VpIcon,{title:"禁用",onClick:function(e){return a.handleFlag(e,t)},className:"cursor m-lr-xs",type:"vpicon-refuse-o"}))}}];a.setState({tableHeader:e})},a.onSelectChange=function(e){a.setState({selectedRowKeys:e})},a.handleFlag=function(e,t){(0,h.vpAdd)("/{vpflow}/rest/flowgrant/flag",{id:t.id}).then(function(e){a.setState({tableHeader:[]},function(){a.queryHeader(),a.tableRef.getTableData()})})},a.toolBarAddClick=function(){a.setState({visible:!0})},a.onRowClick=function(e,t){},a.controlAddButton=function(e,t){var l=vp.computedHeight(t.length,".flowgrant");a.setState({tableHeight:l})},a.state={filtervalue:"",filters:[],quickvalue:"",tableHeader:[],visible:!1,record:[],tableHeight:""},a}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({filtervalue:e.filtervalue,quickvalue:e.quickvalue},function(){t.tableRef.getTableData()})}},{key:"componentWillMount",value:function(){this.queryHeader()}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return p["default"].createElement("div",{className:"bg-white"},p["default"].createElement(h.VpTable,{className:"flowgrant",ref:function(t){e.tableRef=t,e.props.bindTable(t)},controlAddButton:function(t,a){e.controlAddButton(t,a)},dataUrl:"/{vpflow}/rest/flowgrant/page2",scroll:{y:this.state.tableHeight},params:{quickvalue:this.state.quickvalue,filtervalue:this.state.filtervalue},columns:this.state.tableHeader,onRowClick:this.onRowClick,bindThis:this,resize:!0}))}}]),t}(v.Component);t["default"]=g=(0,h.VpFormCreate)(g)}});