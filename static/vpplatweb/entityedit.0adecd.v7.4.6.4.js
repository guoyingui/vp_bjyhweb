webpackJsonp([4],{959:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function n(t){for(var e=t+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){for(var n=a[i];" "==n.charAt(0);)n=n.substring(1);if(-1!=n.indexOf(e))return n.substring(e.length,n.length)}return""}function l(){return[{title:"名称",dataIndex:"sname",key:"sname",width:"",fixed:""},{title:"编号",dataIndex:"scode",key:"scode",width:"",fixed:""},{title:"类别",dataIndex:"iclassid",key:"iclassid",width:"",fixed:""},{title:"状态",dataIndex:"istatusid",key:"istatusid",width:"",fixed:""},{title:"归属部门",dataIndex:"idepartmentid",key:"idepartmentid",width:"",fixed:""},{title:"上级项目群组",dataIndex:"iparent",key:"iparent",width:"",fixed:""},{title:"负责人",dataIndex:"inamerole",key:"inamerole",width:"",fixed:""}]}Object.defineProperty(e,"__esModule",{value:!0});var s=a(802),r=i(s),o=a(395),d=i(o),c=a(363),u=i(c),h=a(14),p=i(h),f=a(688),m=i(f),y=a(54),v=i(y),b=a(55),g=i(b),w=a(59),k=i(w),S=a(93),E=i(S),C=a(8),x=i(C),D=a(4),V=a(835),_=i(V);a(960);var F=a(820),N=a(652),R=function(t){function e(t){(0,v["default"])(this,e);var a=(0,k["default"])(this,(e.__proto__||(0,m["default"])(e)).call(this,t));return a.querySearchFormData=function(){(0,D.vpQuery)("/{vpplat}/vfrm/entity/searchForm",{entityid:a.state.entityid,scode:"search"}).then(function(t){a.setState({SearchFormData:t.data.form})})},a.handleSearchForm=function(t){a.setState({searchData:t,s_visible:!1})},a.chooseModalVisible=function(t){a.chooseVisible=t},a.cancelSearch=function(){a.setState({s_visible:!1})},a.handleEditAdd=function(){},a.handleEditSave=function(){},a.handleReload=function(){a.tableRef.getTableData()},a.handleEditFlag=function(){a.setState({edittable:!a.state.edittable,table_headers:[]},function(){a.getHeader()})},a.callBack=function(t){},a.state={filters:[],visible2:!1,visible:!1,targetKeys:[],showRightBox:!1,widget_show_none:"",widget_show_none_tool:"",filter_data:[],table_headers:[],table_array:[],cur_page:1,page:1,pagination:{},filtervalue:"0",limit:10,quickvalue:"",sortfield:"",sorttype:"",multipleData:[],activeKey:"1",increaseData:[],tabs_array:[],tabs:null,filterDropdownVisible:!1,isAdd:!1,formSearch_data:[],form_data:[],formdata:[],entityid:"",iids:"",row_id:"",row_entityid:"",entityiid:"",add:!0,statusList:[],formvalue:{},varilsForm:{},viewtype:"",entityrole:!1,exShow:!1,exList:[],entityVisible:!1,toolbar:{},rowbar:[],SearchFormData:{},searchData:[],edittable:!1},a.closeRightModal=a.closeRightModal.bind(a),a.handleCancel=a.handleCancel.bind(a),a.handleOk=a.handleOk.bind(a),a.handlesearch=a.handlesearch.bind(a),a.tableChange=a.tableChange.bind(a),a.filterChange=a.filterChange.bind(a),a.multipleSearch=a.multipleSearch.bind(a),a.handleVisibleChange=a.handleVisibleChange.bind(a),a.getMultipleData=a.getMultipleData.bind(a),a.saveRowData=a.saveRowData.bind(a),a.tabsChange=a.tabsChange.bind(a),a.onRowClick=a.onRowClick.bind(a),a.dropVisbleChange=a.dropVisbleChange.bind(a),a.getHeader=a.getHeader.bind(a),a.queryFormData=a.queryFormData.bind(a),a.addNewDom=a.addNewDom.bind(a),a.handleConfirm=a.handleConfirm.bind(a),a.confirm=a.confirm.bind(a),a.getDynamicTabs=a.getDynamicTabs.bind(a),a.handleStatus=a.handleStatus.bind(a),a.queryStatusList=a.queryStatusList.bind(a),a.handleSave=a.handleSave.bind(a),a.handleStatusSubmit=a.handleStatusSubmit.bind(a),a.varilsForm=a.varilsForm.bind(a),a.cancelModal=a.cancelModal.bind(a),a.handleStatusCancel=a.handleStatusCancel.bind(a),a.handleExportChange=a.handleExportChange.bind(a),a.exTypeData=a.exTypeData.bind(a),a.handleMenuClick=a.handleMenuClick.bind(a),a.onExpand=a.onExpand.bind(a),a.handleDropDown=a.handleDropDown.bind(a),a}return(0,E["default"])(e,t),(0,g["default"])(e,[{key:"componentWillReceiveProps",value:function(t){var e=this;t.params?(t.params.entityid!=this.props.params.entityid&&this.setState({entityid:t.params.entityid},function(){e.getHeader(),e.querySearchFormData()}),t.params.type!=this.props.params.type&&this.setState({viewtype:t.params.type},function(){e.getHeader(),e.querySearchFormData()})):this.setState({viewtype:t.viewtype,entityid:t.entityid,toolbar:t.toolbar,rowbar:t.rowbar},function(){e.getHeader()})}},{key:"componentWillMount",value:function(){var t=this;this.setState({entityid:this.props.params?this.props.params.entityid:this.props.entityid,viewtype:this.props.params?this.props.params.type:this.props.type,toolbar:this.props.toolbar,rowbar:this.props.rowbar},function(){t.getHeader(),t.exTypeData(),t.querySearchFormData()})}},{key:"componentDidMount",value:function(){$(".ant-table-body").height($(window).height()-190)}},{key:"getHeader",value:function(){var t=this,e=this.state.edittable?"/{vpplat}/vfrm/entity/editGrids":"/{vpplat}/vfrm/entity/getheaders",a=this.state.edittable?"editlist":"list",i=this.state.edittable?{entityid:t.state.entityid,viewcode:a,viewtype:this.state.viewtype}:{entityid:t.state.entityid,scode:a,viewtype:this.state.viewtype};(0,D.vpQuery)(e,(0,p["default"])({},i)).then(function(e){if(e&&e.hasOwnProperty("data")){var a=[];(t.state.edittable?e.data.fields:e.data.grid.fields).map(function(e,i){var n=void 0,l=void 0,s=void 0,r=void 0;for(var o in e)"field_label"==o?n=e[o]:"field_name"==o&&(l=e[o]),"fixed"==o&&(r=e[o]),"field_width"==o&&(s=e[o]);n&&l&&("left"==r||"right"==r?a.push({title:n,dataIndex:l,key:l,width:s,fixed:r}):a.push({title:n,dataIndex:l,key:l,fixed:r,render:e.edit_col?function(a,i){return x["default"].createElement(N.EditTableCol,{callBack:t.callBack,record:i,widget:e.widget,item:(0,p["default"])({},e.widget,{irelationentityid:e.irelationentityid}),value:a})}:null}))});var i=["indic-success","indic-info","indic-warning","indic-danger"],n={title:"指示灯",width:100,dataIndex:"indicator",key:"indicator",render:function(t,e){return x["default"].createElement("div",{className:"indic-wrapper"},t?t.split("_").map(function(t,e){return x["default"].createElement("span",{key:e,className:i[t]})}):x["default"].createElement("div",null,x["default"].createElement("span",{key:0,className:i[0]}),x["default"].createElement("span",{key:1,className:i[1]}),x["default"].createElement("span",{key:2,className:i[2]}),x["default"].createElement("span",{key:3,className:i[3]})))}},s=a.filter(function(t){return"sname"==t.dataIndex}),r=a.filter(function(t){return"sname"!=t.dataIndex}),o=t.state,d=o.entityid;o.viewtype;r.unshift(s[0]),6!=d&&7!=d&&8!=d||r.unshift(n),r.push({title:"操作",fixed:"right",width:120,key:"operation",render:function(e,a){return x["default"].createElement("span",null,x["default"].createElement(D.VpTooltip,{placement:"top",title:"编辑"},x["default"].createElement(D.VpIcon,{"data-id":a.id,style:{cursor:"pointer",color:"#1c84c6",fontWeight:"bold",fontSize:14,margin:"0 5px"},type:"edit"})),"0"==a.istatusflag&&t.state.entityrole?x["default"].createElement(D.VpTooltip,{placement:"top",title:"删除"},x["default"].createElement(D.VpPopconfirm,{title:"确定要删除这条信息吗？","data-entityid":a.ientityid,"data-id":a.iid,onConfirm:t.confirm,onCancel:t.cancel},x["default"].createElement(D.VpIconFont,{onClick:t.handleConfirm,"data-entityid":a.ientityid,"data-id":a.iid,className:"cursor m-lr-xs",type:"vpicon-close"}))):x["default"].createElement("span",{className:"m-lr-xs anticon",style:{width:16}}),t.state.rowbar?t.state.rowbar.map(function(e,i){return x["default"].createElement(D.VpTooltip,{placement:"top",title:e.title,key:i},x["default"].createElement(D.VpIcon,{style:{cursor:"pointer",color:"#1c84c6",fontWeight:"bold",fontSize:14,margin:"0 5px"},type:e.icon,onClick:function(i){i.stopPropagation(),t.props.handleRowBar(e.type,a)}}))}):"")}});var c=l();c.push({title:"操作",fixed:"right",width:120,key:"operation",render:function(e,a){return x["default"].createElement("span",null,x["default"].createElement(D.VpTooltip,{placement:"top",title:"编辑"},x["default"].createElement(D.VpIcon,{"data-id":a.id,style:{cursor:"pointer",color:"#1c84c6",fontWeight:"bold",fontSize:14,margin:"0 5px"},type:"edit"})),"0"==a.istatusflag&&t.state.entityrole?x["default"].createElement(D.VpTooltip,{placement:"top",title:"删除"},x["default"].createElement(D.VpPopconfirm,{title:"确定要删除这条信息吗？","data-entityid":a.ientityid,"data-id":a.iid,onConfirm:t.confirm,onCancel:t.cancel},x["default"].createElement(D.VpIconFont,{onClick:t.handleConfirm,"data-entityid":a.ientityid,"data-id":a.iid,className:"cursor m-lr-xs",type:"vpicon-close"}))):x["default"].createElement("span",{className:"m-lr-xs anticon",style:{width:16}}))}}),c.unshift(n),"pjtree"==t.state.viewtype?t.setState({table_headers:c}):t.setState({table_headers:r})}})["catch"](function(t){}),(0,D.vpQuery)("/{vpplat}/vfrm/entity/getConfig",{entityid:t.state.entityid}).then(function(e){e.hasOwnProperty("data")&&(e.data.hasOwnProperty("search")&&t.setState({widget_show_none:e.data.search,filters:e.data.search.filters}),e.data.hasOwnProperty("toolbar")&&(t.setState({widget_show_none_tool:e.data.toolbar}),e.data.toolbar.hasOwnProperty("formSearch")&&e.data.toolbar.formSearch.hasOwnProperty("form")&&e.data.toolbar.formSearch.form.hasOwnProperty("groups")&&e.data.toolbar.formSearch.form.groups[0].hasOwnProperty("fields")&&(e.data.toolbar.formSearch.form.groups[0].fields[0].field_name="form_sname",t.setState({formSearch_data:e.data.toolbar.formSearch.form.groups[0].fields})),e.data.toolbar.hasOwnProperty("tabs")&&t.setState({tabs:e.data.toolbar.tabs}),e.data.hasOwnProperty("entityrole")&&t.setState({entityrole:e.data.entityrole})))})}},{key:"onExpand",value:function(t,e){if("pjtree"==this.state.viewtype&&"7"==e.ientityid&&t){var a=e.iid;(0,D.vpAdd)("/{vpplat}/vfrm/entity/subList",{iid:a.substr(0,a.length-1)}).then(function(t){var a;e.children.splice(0);var i=t.data;(a=e.children).push.apply(a,(0,u["default"])(i))})}}},{key:"handleDropDown",value:function(t){t.stopPropagation()}},{key:"exTypeData",value:function(){var t=this;(0,D.vpQuery)("/{vpplat}/vfrm/entity/exListType",{entityid:this.state.entityid}).then(function(e){t.setState({exList:e.data})})}},{key:"getRowData",value:function(t){}},{key:"handleStatus",value:function(t,e,a){var i=this;(0,D.vpAdd)("/{vpplat}/vfrm/entity/varilsForm",{sflag:t.sflag}).then(function(a){i.setState({formvalue:e,visible:!0,varilsForm:a.data,variid:t.iid})})}},{key:"varilsForm",value:function(){}},{key:"handleSave",value:function(t){this.saveRowData(t,0)}},{key:"handleStatusSubmit",value:function(t){var e=(0,p["default"])({},this.state.formvalue,t),a=this.state.variid;this.saveRowData(e,a)}},{key:"saveRowData",value:function(t,e){e=e==undefined?0:e;var a=this,i={};(0,d["default"])(t).forEach(function(e,a){t[e]==undefined?t[e]="":null==t[e]&&(t[e]=0),-1==e.indexOf("_label")&&(i[e]=t[e])}),(0,D.vpAdd)("/{vpplat}/vfrm/entity/saveFormData",{sparam:(0,r["default"])(i),entityid:this.state.entityid,iid:this.state.entityiid,variid:e}).then(function(t){a.setState({showRightBox:!1,increaseData:{},visible:!1,varilsForm:{}},function(){a.tableRef.getTableData()})})}},{key:"getMultipleData",value:function(){var t=this;(0,D.vpQuery)("/{vpplat}/cfgent/dynamicSearch").then(function(e){t.setState({multipleData:e.data.form.groups})})}},{key:"getDynamicTabs",value:function(t){var e=this;t?(0,D.vpAdd)("/{vpplat}/vfrm/entity/dynamicTabs",{entityid:this.state.entityid}).then(function(t){var a=t.data.tabs;e.setState({tabs_array:a})}):this.setState({tabs_array:[]})}},{key:"dropVisbleChange",value:function(t){this.setState({filterDropdownVisible:t})}},{key:"handlesearch",value:function(t){var e=t.replace(/\s/g,"");this.setState({quickvalue:e})}},{key:"tableChange",value:function(t,e,a){var i="";"descend"===a.order?i="desc":"ascend"===a.order&&(i="asc"),this.setState({cur_page:t.current||this.state.cur_page,sortfield:a.field,sorttype:i,limit:t.pageSize||this.state.limit})}},{key:"onShowSizeChange",value:function(t){}},{key:"handleConfirm",value:function(t){t.stopPropagation();var e=t.target.dataset.id,a=t.target.dataset.entityid;this.setState({row_id:e,row_entityid:a})}},{key:"confirm",value:function(){var t=this;(0,D.vpAdd)("/{vpplat}/vfrm/entity/deleteData",{iid:t.state.row_id,entityid:this.state.row_entityid}).then(function(e){t.tableRef.getTableData()})}},{key:"filterChange",value:function(t){this.setState({filtervalue:t.target.value})}},{key:"multipleSearch",value:function(t){var e=this;t.preventDefault();var a=[];this.state.multipleData[0].fields.forEach(function(t){a.push(t.field_name)}),this.props.form.validateFields(a,function(t,a){t||e.setState({s_visible:!1})})}},{key:"showModal",value:function(t){var e=t.target.dataset.id;this.getRowData(e),this.setState({showRightBox:!0,isAdd:!1})}},{key:"closeRightModal",value:function(){this.setState({showRightBox:!1,increaseData:{}})}},{key:"addNewAttr",value:function(t){this.setState({showRightBox:!0,add:!0,entityiid:"",statusList:[]}),this.queryFormData("","",!1)}},{key:"handleCancel",value:function(){this.setState({showRightBox:!1,increaseData:{}})}},{key:"handleStatusCancel",value:function(){this.setState({visible:!1,entityVisible:!1,varilsForm:{}})}},{key:"cancelModal",value:function(){this.setState({visible:!1,entityVisible:!1,varilsForm:{}})}},{key:"handleOk",value:function(){this.setState({showRightBox:!1}),this.saveRowData(this.props.form.getFieldsValue())}},{key:"handleVisibleChange",value:function(){if(!this.chooseVisible){this.state.SearchFormData.groups.length>0&&this.setState({s_visible:!this.state.s_visible})}}},{key:"handleExportChange",value:function(){this.setState({exShow:!this.state.exShow})}},{key:"tabsChange",value:function(t){this.state.tabs_array[t]}},{key:"queryStatusList",value:function(t,e){var a=this;(0,D.vpAdd)("/{vpplat}/vfrm/entity/getStatusList",{entityid:t||this.state.entityid,iid:e}).then(function(t){var e=t.data.varis,i=[];e.map(function(t,e){var a={};a.sname=t.sname,a.className="ghost",a.iid=t.iid,a.visible=!0,a.disabled=!1,a.sflag=t.sflag,i.push(a)}),a.setState({statusList:i})})}},{key:"onRowClick",value:function(t,e){var a=t.iid,i=t.ientityid;"7"==i&&"pjtree"==this.state.viewtype&&(a=a.substr(0,a.length-1)),this.setState({showRightBox:!0,add:!1,entityiid:a,row_entityid:i,s_visible:!1}),this.queryFormData(i,a,!0),this.queryStatusList(i,a)}},{key:"queryFormData",value:function(t,e,a){this.getDynamicTabs(a);var i=this;i.state.entityid;(0,D.vpQuery)("/{vpplat}/vfrm/entity/getform",{entityid:t||i.state.entityid,iid:e}).then(function(t){t&&t.hasOwnProperty("data")&&t.data.hasOwnProperty("form")&&t.data.form.hasOwnProperty("groups")&&i.setState({increaseData:t.data.form})})["catch"](function(t){})}},{key:"addNewDom",value:function(t,e){var a=this,i={iid:this.state.entityiid,entityrole:this.state.entityrole};return x["default"].createElement(D.VpTabs,{defaultActiveKey:"0",onChange:this.tabsChange},this.state.tabs_array.length?this.state.tabs_array.map(function(t,e){if(t.staburl){if("1"==t.ilinktype)return x["default"].createElement(D.VpTabPane,{tab:t.sname,key:e},x["default"].createElement(D.VpIframe,{url:t.staburl+"?entityid="+a.state.entityid+"&iid="+a.state.entityiid}));var n=(0,F.requireFile)(t.staburl);return x["default"].createElement(D.VpTabPane,{tab:t.sname,key:e},x["default"].createElement(n,{formData:a.state.increaseData,params:i,handleOk:a.state.entityrole?a.handleSave:"",handleCancel:a.handleCancel,handleStatus:a.handleStatus,buttonList:a.state.statusList,entityid:a.state.entityid,iid:a.state.entityiid,irelationid:t.iid,imainentity:t.imainentity,irelationentity:t.irelationentity,row_entityid:a.state.row_entityid,row_id:a.state.row_id,viewtype:a.state.viewtype}))}return x["default"].createElement(D.VpTabPane,{tab:t.sname,key:e+"tabs"})}):x["default"].createElement(D.VpTabPane,{tab:"属性",key:0},x["default"].createElement(N.VpDynamicForm,{className:"p-sm full-height scroll p-b-xxlg",ref:function(t){return a.dynamic=t},bindThis:this,formData:this.state.increaseData,params:i,handleOk:this.handleSave,handleCancel:this.handleCancel,handleStatus:this.handleStatus,buttonList:this.state.statusList,okText:"提 交"})))}},{key:"handleMenuClick",value:function(t){var e=t.item.props.type;t.key;if(5==e)this.setState({entityVisible:!0});else{(0,D.vpDownLoad)("/{vpplat}/vfrm/ent/exportfile",{filtervalue:"",quickvalue:this.state.quickvalue,ientityid:this.state.entityid,type:"expdata"})}}},{key:"handleSubmit",value:function(t){var e=this;if("upload"==t){var a=$("#chosenFile").prop("files")[0];if(null!=a){var i=a.name.lastIndexOf("."),l=a.name.substr(i+1);if("xls"==l||"xlsx"==l){var s=new FormData;s.append("file",a),s.append("entityid",this.state.entityid),$.ajax({url:URL.localHost+"/zuul/{vpplat}/vfrm/ent/importfile",headers:{Authorization:"Bearer "+n("access_token"),Locale:"zh_CN"},data:s,type:"Post",dataType:"json",cache:!1,processData:!1,contentType:!1,success:function(t){e.setState({entityVisible:!1},function(){e.tableRef.getTableData()})}})}}}else(0,D.vpDownLoad)("/{vpplat}/vfrm/ent/exportfile",{ientityid:this.state.entityid,type:""})}},{key:"render",value:function(){var t=this,e=this,a=[];a=this.state.edittable?[{title:"切换",tooltip:!1,className:"cursor",type:"vpicon-circulation",iconClickFunction:this.handleEditFlag},{title:"新增",tooltip:!1,className:"cursor",type:"plus-circle-o",iconClickFunction:this.handleEditAdd},{title:"保存",tooltip:!1,className:"cursor",type:"save",iconClickFunction:this.handleEditSave},{title:"刷新",tooltip:!1,className:"cursor",type:"reload",iconClickFunction:this.handleReload}]:[{title:"切换",tooltip:!1,className:"cursor",type:"vpicon-circulation",iconClickFunction:this.handleEditFlag}];var i=e.state.toolbar&&e.state.toolbar.right?e.state.toolbar.right.map(function(t,a){return x["default"].createElement(D.VpTooltip,{placement:"top",title:t.title,key:a},x["default"].createElement(D.VpButton,{onClick:function(){return e.props.handleToorBar(t.type)},icon:t.icon,type:"ghost",shape:"circle",className:"m-l-xs"}))}):"",n=this.props.form,l=n.getFieldProps,s=(n.getFieldError,n.isFieldValidating,n.setFields,l("name",{rules:[{required:!0,message:"功能名称不能为空"},{validator:this.userExists}]}),x["default"].createElement(D.VpMenu,{onClick:this.handleMenuClick},e.state.exList.map(function(t,e){return x["default"].createElement(D.VpMenuItem,{key:t.iid,type:t.iviewtype},t.sname)}))),o=x["default"].createElement("div",{className:"search-form bg-white ant-dropdown-menu"},x["default"].createElement(_["default"],{chooseModalVisible:this.chooseModalVisible,cancelSearch:this.cancelSearch,handleSearchForm:this.handleSearchForm,formData:this.state.SearchFormData})),d=(this.state.tabs,this.state),c=d.viewtype,u=d.entityid;return x["default"].createElement("div",{className:"business-container pr full-height editlist entityedit"},x["default"].createElement("div",{className:"subAssembly b-b bg-white",style:this.props.style},x["default"].createElement(D.VpRow,{gutter:10},x["default"].createElement(D.VpCol,{className:"gutter-row",span:4},e.state.widget_show_none.hasOwnProperty("search")&&e.state.widget_show_none.search?e.state.toolbar?e.state.toolbar.hasOwnProperty("left")&&e.state.toolbar.left.quickSearch?x["default"].createElement(N.SeachInput,{onSearch:e.handlesearch}):"":x["default"].createElement(N.SeachInput,{onSearch:e.handlesearch}):""),x["default"].createElement(D.VpCol,{className:"gutter-row check-radio",span:12},e.state.toolbar?e.state.toolbar.hasOwnProperty("left")&&e.state.toolbar.left.filter?x["default"].createElement(N.CheckRadio,{filterData:this.state.filters,defaultValue:this.state.filtervalue,onChange:this.filterChange}):"":x["default"].createElement(N.CheckRadio,{filterData:this.state.filters,defaultValue:this.state.filtervalue,onChange:this.filterChange})),x["default"].createElement(D.VpCol,{className:"gutter-row text-right",span:8},x["default"].createElement("div",{style:this.state.entityrole?"pjtree"==c?{display:"none"}:{display:"inline-block"}:{display:"none"},onClick:e.addNewAttr.bind(e)},x["default"].createElement(N.QuickCreate,null)),x["default"].createElement(D.VpDropdown,{onClick:this.handleExportChange,trigger:["click"],overlay:s,visible:this.state.exShow},x["default"].createElement("div",{style:{display:"inline-block"}},x["default"].createElement(D.VpTooltip,{placement:"top",title:"导入导出"},x["default"].createElement(D.VpButton,{type:"ghost",shape:"circle",className:"m-l-xs"},x["default"].createElement(D.VpIcon,{type:"cloud-upload"}))))),e.state.toolbar?e.state.toolbar.hasOwnProperty("left")&&e.state.toolbar.left.advanced?x["default"].createElement(D.VpDropdown,{onClick:this.handleVisibleChange,trigger:["click"],overlay:o,onVisibleChange:this.handleVisibleChange,visible:this.state.s_visible},x["default"].createElement("div",{style:{display:"inline-block"}},x["default"].createElement(N.FindCheckbox,null))):"":x["default"].createElement(D.VpDropdown,{onClick:this.handleVisibleChange,trigger:["click"],overlay:o,onVisibleChange:this.handleVisibleChange,visible:this.state.s_visible},x["default"].createElement("div",{style:{display:"inline-block"}},x["default"].createElement(N.FindCheckbox,null))),i))),x["default"].createElement("div",{className:"business-wrapper p-t-sm full-height"},x["default"].createElement("div",{className:"p-sm bg-white entity-list"},x["default"].createElement(D.VpTable,{ref:function(e){return t.tableRef=e},onExpand:this.onExpand,dataUrl:"/{vpplat}/vfrm/entity/dynamicListData",params:{entityid:this.state.entityid,condition:(0,r["default"])(this.state.searchData),filtervalue:this.state.filtervalue,quickSearch:this.state.quickvalue,sortfield:this.state.sortfield,sorttype:this.state.sorttype,viewtype:this.state.viewtype,datafilter:"auth"},expandIconColumnIndex:6==u||7==u||8==u?2:0,columns:this.state.table_headers,onChange:this.tableChange,onRowClick:this.onRowClick,pagination:this.state.pagination,tableOptions:a,bindThis:this}))),x["default"].createElement("div",{className:"drawer-fixed p-sm hide"},x["default"].createElement("div",{className:"pr full-height"},x["default"].createElement("div",{className:"spin-icon",onclick:"closeDrawer"},x["default"].createElement(D.VpIcon,{type:"verticle-left"})),x["default"].createElement("div",{className:"drawer-box"}))),x["default"].createElement(N.RightBox,{max:!this.state.isAdd,button:x["default"].createElement("div",{className:"icon p-xs",onClick:this.closeRightModal},x["default"].createElement(D.VpTooltip,{placement:"top",title:""},x["default"].createElement(D.VpIcon,{type:"right"}))),tips:x["default"].createElement("div",{className:"tips p-xs"},x["default"].createElement(D.VpTooltip,{placement:"top",title:"0000"},x["default"].createElement(D.VpIcon,{type:"exclamation-circle text-muted m-r-xs"}))),show:this.state.showRightBox},this.state.increaseData.groups&&this.state.showRightBox?this.addNewDom():null),x["default"].createElement(D.VpModal,{title:"状态变迁",visible:this.state.visible,onOk:function(){return t.okModal()},onCancel:function(){return t.cancelModal()},width:"70%",footer:null,wrapClassName:"modal-no-footer"},this.state.varilsForm.groups?x["default"].createElement(N.VpDynamicForm,{className:"p-sm full-height scroll p-b-xxlg",formData:this.state.varilsForm,iid:this.state.entityiid,handleOk:this.handleStatusSubmit,handleCancel:this.handleStatusCancel,okText:"提 交"}):null),x["default"].createElement(D.VpModal,{title:"实体导入",visible:this.state.entityVisible,onCancel:function(){return t.cancelModal()},width:"70%",footer:null,wrapClassName:"modal-no-footer"},x["default"].createElement(D.VpFInput,(0,p["default"])({label:"选择文件"},{labelCol:{span:3},wrapperCol:{span:19}},l("chosenFile",{initialValue:""}),{readOnly:!1,type:"file"})),x["default"].createElement("div",{className:"footFixed p-sm b-t text-center"},x["default"].createElement(D.VpButton,{type:"primary",onClick:function(){return t.handleSubmit("upload")}},"导入数据"),x["default"].createElement(D.VpButton,{style:{marginLeft:"10px"},type:"primary",onClick:function(){return t.handleSubmit("download")}},"下载模板"))))}}]),e}(C.Component);e["default"]=R=(0,D.VpFormCreate)(R)},960:function(t,e,a){var i=a(961);"string"==typeof i&&(i=[[t.id,i,""]]);var n={hmr:!0};n.transform=void 0;a(439)(i,n);i.locals&&(t.exports=i.locals)},961:function(t,e){}});