webpackJsonp([21],{1020:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(){return[{title:"文档名称",dataIndex:"sname",key:"sname",width:"200",fixed:""},{title:"扩展名",dataIndex:"stype",key:"stype",width:"120",fixed:""},{title:"文档类型",dataIndex:"idoctype",key:"idoctype",width:"120",fixed:""},{title:"文档路径",dataIndex:"sdocpath",key:"sdocpath",width:"200",fixed:""},{title:"文档来源",dataIndex:"ssource",key:"ssource",width:"120",fixed:""},{title:"来源状态",dataIndex:"statusname",key:"statusname",width:"120",fixed:""},{title:"文档版本",dataIndex:"iversion",key:"iversion",width:"120",fixed:""},{title:"文档大小",dataIndex:"isize",key:"isize",width:"200",fixed:""}]}Object.defineProperty(t,"__esModule",{value:!0});var o=a(802),r=n(o),u=a(688),l=n(u),s=a(54),d=n(s),c=a(55),p=n(c),h=a(59),f=n(h),g=a(93),m=n(g),w=a(8),y=n(w),k=a(4),x=function(e){function t(e){(0,d["default"])(this,t);var a=(0,f["default"])(this,(t.__proto__||(0,l["default"])(t)).call(this,e));return a.getHeader=function(){var e=a,t=i(),n={title:"操作",fixed:"right",width:120,key:"operation",render:function(t,a){return y["default"].createElement("div",{style:{textAlign:"center"}},y["default"].createElement(k.VpTooltip,{placement:"left",title:"下载"},y["default"].createElement(k.VpIconFont,{type:"vpicon-download text-primary",style:{margin:"0 3px"},className:"cursor",onClick:function(){return e.menuClick({key:"download"},a.iid,a.sname)}})))}};t.push(n),a.setState({table_headers:t})},a.getData=function(){var e={};e.quicktext=a.state.quicktext,e.curr=a.state.cur_page,e.limit=a.state.num_perpage,(0,k.vpAdd)("/{vpplat}/documentList/page",{sparam:(0,r["default"])(e)}).then(function(e){var t=e.data,n=function(){return"共"+t.totalRows+"条"};a.setState({table_array:t.resultList,total_rows:t.totalRows,cur_page:t.currentPage,num_perpage:t.numPerPage,pagination:{total:t.totalRows,showTotal:n,current:t.currentPage,pageSize:t.numPerPage,onShowSizeChange:a.onShowSizeChange,showSizeChanger:!0,showQuickJumper:!0}})})},a.menuClick=function(e,t,a){(0,k.vpDownLoad)("/{vpplat}/documentList/downloadfile",{iid:t,name:a})},a.tableChange=function(e,t,n){a.setState({cur_page:e.current||a.state.cur_page,num_perpage:e.pageSize||a.state.num_perpage},function(){a.getData()})},a.onRowClick=function(e){},a.state={table_headers:[],table_array:[],total_rows:0,cur_page:1,num_perpage:10,pagination:{}},a}return(0,m["default"])(t,e),(0,p["default"])(t,[{key:"componentWillMount",value:function(){this.getHeader(),this.getData()}},{key:"componentDidMount",value:function(){$(".docList").find(".ant-table-body").height($(window).height()-200),this.setState({bodyheight:$(window).height()-200})}},{key:"onShowSizeChange",value:function(e){}},{key:"quickSearch",value:function(){var e=this,t=$("#quicktext").val();this.setState({quicktext:t},function(){e.getData()})}},{key:"render",value:function(){var e=this;return y["default"].createElement("div",{className:"business-container pr ",style:{marginTop:10}},y["default"].createElement("div",{className:"subAssembly b-b bg-white"},y["default"].createElement(k.VpRow,{gutter:24},y["default"].createElement(k.VpCol,{className:"gutter-row text-right",span:"6"},y["default"].createElement(k.VpInput,{id:"quicktext",placeholder:"输入名称、状态、类型查找",suffix:y["default"].createElement(k.VpIcon,{type:"search",style:{marginTop:7},onClick:function(){e.quickSearch()}}),onPressEnter:function(){e.quickSearch()}})))),y["default"].createElement("div",{className:" bg-white full-height"},y["default"].createElement(k.VpTable,{className:"docList",columns:this.state.table_headers,dataSource:this.state.table_array,onChange:this.tableChange,onRowClick:this.onRowClick,pagination:this.state.pagination,rowKey:function(e){return e.iid},scroll:{x:1360,y:this.state.bodyheight-40},resize:!0})))}}]),t}(y["default"].Component);t["default"]=x=(0,k.VpFormCreate)(x)}});