webpackJsonp([33],{1049:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(688),s=l(n),i=a(54),o=l(i),u=a(55),d=l(u),r=a(59),c=l(r),h=a(93),f=l(h),m=a(8),p=l(m),g=a(4),y=a(652),v=a(832),b=l(v),w=[{title:"对象编号",width:100,dataIndex:"scode",key:"scode"},{title:"实体名称",width:100,dataIndex:"entityname",key:"entityname",align:"center"},{title:"对象名称",dataIndex:"objectname",key:"objectname",width:150},{title:"收藏人",dataIndex:"username",key:"username",width:150},{title:"收藏时间",dataIndex:"dlikedate",key:"dlikedate",width:150}],x=function(e){function t(e){(0,o["default"])(this,t);var a=(0,c["default"])(this,(t.__proto__||(0,s["default"])(t)).call(this,e));return a.allChange=function(e){a.setState({showRightBox:!0,isMax:!0,info:e,value:"",focus:!1,tableHeight:0})},a.closeModal=function(){a.props.setBreadCrumb(""),a.setState({showRightBox:!1})},a.handleInputChange=function(e){a.setState({value:e.target.value})},a.handleFocusBlur=function(e){a.setState({focus:e.target===document.activeElement})},a.handleSearch=function(e){var t=e.replace(/\s/g,"");a.setState({searchval:t})},a.controlAddButton=function(e,t){var l=vp.computedHeight(t.length,".lookTable");t.length&&(l-=50);var n=a.getExpandedRowa(t,[]);a.setState({expandedRowKeys:n,tableHeight:l})},a.state={isMax:!1,showRightBox:!1,info:"",searchval:""},a}return(0,f["default"])(t,e),(0,d["default"])(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){$(".ant-table-body").height($(window).height()-415)}},{key:"openRight",value:function(e,t){this.props.setBreadCrumb(e.entityname+"-"+e.objectname),this.allChange(e)}},{key:"render",value:function(){var e=this;return p["default"].createElement("div",{className:"business-container pr full-height entity"},p["default"].createElement("div",{className:"subAssembly b-b bg-white",style:this.props.style},p["default"].createElement(g.VpRow,{gutter:10},p["default"].createElement(g.VpCol,{className:"gutter-row",span:4},p["default"].createElement("div",{className:"m-b-sm search"},p["default"].createElement(y.SeachInput,{onSearch:this.handleSearch}))),p["default"].createElement(g.VpCol,{className:"gutter-row text-right",span:20}))),p["default"].createElement("div",{className:"business-wrapper p-t-sm full-height"},p["default"].createElement("div",{className:"p-sm entity-list full-height bg-white"},p["default"].createElement(g.VpRow,{gutter:10},p["default"].createElement(g.VpCol,{className:"gutter-row tes"},p["default"].createElement(y.VpDTable,{className:"lookTable",queryMethod:"GET",columns:w,dataUrl:"/{vpplat}/vfrm/entity/likelist",params:{searchval:this.state.searchval},onRowClick:function(t,a){return e.openRight(t,a)},controlAddButton:function(t,a){e.controlAddButton(t,a)},scroll:{y:this.state.tableHeight}}))))),p["default"].createElement(y.RightBox,{onClose:this.closeModal,max:this.state.isMax,destroyOnClose:!0,tips:p["default"].createElement("div",{className:"tips p-xs"}),mask:!1,show:this.state.showRightBox},this.state.showRightBox?p["default"].createElement(b["default"],{param:{entityid:this.state.info.ientityid,iid:this.state.info.iitemid,type:!1,viewtype:"list",entitytype:"",defaultActiveKey:""},data:{},setBreadCrumb:function(t){e.props.setBreadCrumb(t)},closeRightModal:function(){return e.closeModal()},refreshList:function(){}}):null))}}]),t}(p["default"].Component);t["default"]=x}});