webpackJsonp([13],{1010:function(e,t,a){e.exports={"default":a(1011),__esModule:!0}},1011:function(e,t,a){a(75),a(63),e.exports=a(1012)},1012:function(e,t,a){var n=a(25),i=a(370);e.exports=a(20).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},1018:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),s=a(1010),r=n(s),o=a(796),c=n(o),d=a(395),u=n(d),f=a(687),p=n(f),m=a(54),h=n(m),y=a(55),v=n(y),b=a(59),g=n(b),k=a(93),E=n(k),V=a(8),S=n(V),T=a(4),w=a(652),D=a(804),F=n(D),x=a(784),_=a(813),C=a(786);a(1019);var q=function(e){function t(e){(0,h["default"])(this,t);var a=(0,g["default"])(this,(t.__proto__||(0,p["default"])(t)).call(this,e));return a.getFormData=function(e,t){var n=a;n.getDynamicTabs(t,e),(0,T.vpQuery)(x.entityFormDataUrl,{entityid:n.state.entityid,iid:e}).then(function(e){n.setState({isAdd:!0,increaseData:e.data.form})})},a.renderHeight=function(e,t){var n=vp.computedHeight(t.length,".rsreqTable");a.setState({maxHeight:n,spinStatus:!1})},a.restForm=function(){var e=a.props.form,t=[0];e.setFieldsValue({keys:t})},a.add=function(){a.uuid++;var e=a.props.form,t=e.getFieldValue("keys");t=t.concat(a.uuid),e.setFieldsValue({keys:t})},a.remove=function(e){var t=a.props.form,n=t.getFieldValue("keys");n=n.filter(function(t){return t!==e}),t.setFieldsValue({keys:n})},a.handleClick=function(e){a.state.filtervalue!=e.key&&a.setState({filtervalue:e.key,openKeys:e.keyPath.slice(1),currentkey:e.keyPath.slice(1)[0],spinStatus:!0})},a.onToggle=function(e){a.setState({openKeys:e.open?e.keyPath:e.keyPath.slice(1)})},a.shrinkLeft=function(e){a.setState({shrinkShow:!a.state.shrinkShow})},a.handleLike=function(e,t,n){e.stopPropagation(),(0,T.vpAdd)(x.entityHandLikeUrl,{ientityid:t,iid:n}).then(function(e){a.VpTable.getTableData()})},a.discuss=function(e,t){e.stopPropagation();var n=a.state.entityid,i="entity"+n+"_discuss";a.setState({iid:t.iid,record:t,showRightBox:!0,defaultActiveKey:i}),a.getFormData(t.iid,!0)},a.handleButtonSubmitStatus=function(e,t,n){var i=a.refs.workflow.startFlow;if(!n){var l=a,s={};(0,u["default"])(t).forEach(function(e,a){t[e]==undefined?t[e]="":null==t[e]&&(t[e]=0),t[e]instanceof Date&&(t[e]=(0,_.formatDateTime)(t[e])),s[e]=t[e]}),a.props.form.validateFields(function(e,t){e||(l.setState({loading_buttonList:!0}),(0,T.vpAdd)("{vpvrm}/vrm/busReq/save",{sparam:(0,c["default"])(s),entityid:l.state.entityid,viewcode:"all"},"",5e9).then(function(e){i(e.data,function(){l.setState({showRightBox:!1,loading_buttonList:!1},function(){l.VpTable.getTableData()})})})["catch"](function(e){l.setState({loading:!1})}))})}},a.handleModal=function(e,t){a.restForm(),a.setState({record:t}),e.preventDefault();var n=e.target.getAttribute("data");a.setState({showRightBox:!0,operType:n,createType:"sysreq"}),"add"==n?a.getFormData("",!1):(n="edit")&&a.getFormData(t.iid,!0)},a.rowClick=function(e,t){if(a.setState({record:e}),"list"==a.state.viewcode&&(a.setState({showRightBox:!0,defaultActiveKey:"entity"+a.state.entityid+"_attr"},function(){a.props.setBreadCrumb(e.sname)}),a.getFormData(e.iid,!0)),"treelist"==a.state.viewcode){var n=[],i=[],l="";e.ientityid==a.state.entityid&&(n=["entity42_attr"],i=a.state.sysreq_tabs,l="entity42_attr"),e.ientityid==a.state.taskentityid&&(n=["entity114_attr"],i=a.state.task_tabs,l="entity114_attr"),a.openTabs(e,n,i,l)}},a.querySearchFormData=function(){(0,T.vpQuery)("/{vpplat}/vfrm/entity/searchForm",{entityid:a.state.entityid,scode:"search"}).then(function(e){a.setState({SearchFormData:e.data.form})})},a.chooseModalVisible=function(e){a.chooseVisible=e},a.cancelSearch=function(){a.setState({s_visible:!1})},a.handleSearchForm=function(e){a.setState({searchData:e,searchStr:a.searchValue,s_visible:!1},function(){a.VpTable.getTableData()})},a.handleViewChange=function(e){var t=e.target.value;a.setState({url:"treelist"==t?"{vpvrm}/vrm/sysReq/getSysTreeTable":x.entityDataUrl,spinStatus:!0},function(){a.state.viewcode=t,a.getHeader(),a.state.spinStatus=!1})},a.createTask=function(e,t){a.restForm(),a.setState({record:t}),a.setState({showRightBox:!0,createType:"task"}),a.getFormDataTask("",t)},a.getFormDataTask=function(e,t){var n=a;n.setState({tabs_array:[]}),(0,T.vpQuery)(x.entityFormDataUrl,{entityid:n.state.taskentityid,iid:e}).then(function(e){var a=!0,i=!1,l=undefined;try{for(var s,o=(0,r["default"])(e.data.form.groups[1].fields);!(a=(s=o.next()).done);a=!0){var c=s.value;if("rlinkxtxq"==c.field_name){c.widget.default_label=t.sname,c.widget.default_value=t.iid;break}}}catch(y){i=!0,l=y}finally{try{!a&&o["return"]&&o["return"]()}finally{if(i)throw l}}var d=!0,u=!1,f=undefined;try{for(var p,m=(0,r["default"])(e.data.form.groups[0].fields);!(d=(p=m.next()).done);d=!0){var h=p.value;if("istatusid"==h.field_name){h.widget.default_label="开发未开始",h.widget.default_value="224";break}}}catch(y){u=!0,f=y}finally{try{!d&&m["return"]&&m["return"]()}finally{if(u)throw f}}n.setState({isAdd:!0,increaseData:e.data.form})})},a.openSelectedTab=function(e,t,n){e.preventDefault();var i=[],l="",s=[];if(t.ientityid==a.state.entityid){s=a.state.sysreq_tabs;var r=a.sysReqTabskey;"srreqanalyse"==n&&(i=[r.sysreqattr,r.sysreqdoc,r.sysreqanalyse],l=r.sysreqanalyse),"srreqestimation"==n&&(i=[r.sysreqattr,r.estimation],l=r.estimation),"reqschedule"==n&&(i=[r.sysreqattr,r.milestone],l=r.milestone)}if(t.ientityid==a.state.taskentityid){s=a.state.task_tabs;var o=a.taskTabskey;"viewDetails"==n&&(i=[o.taskattr],l=o.taskattr)}a.openTabs(t,i,s,l)},a.getTargetTab=function(e,t){var a=[],n=!0,i=!1,l=undefined;try{for(var s,o=(0,r["default"])(e);!(n=(s=o.next()).done);n=!0){var c=s.value;t.indexOf(c.skey)>-1&&(c.iaccesslevel="1",a.push(c))}}catch(d){i=!0,l=d}finally{try{!n&&o["return"]&&o["return"]()}finally{if(i)throw l}}return a},a.openTabs=function(e,t,n,i){var l=a.getTargetTab(n,t);a.loadTabPage(e,l,i)},a.loadTabPage=function(e,t,n){a.setState({iid:e.iid,record:e,tabs_array:t,showRightBox:!0,defaultActiveKey:n})},a.state={table_headers:[],tabs_array:[],spinStatus:!1,uploader:"",rightBox_type:"",url:x.entityDataUrl,showRightBox:!1,item:"",operType:"",uploadUrl:x.uploadUrl,loading:!1,searchStr:"",increaseData:"",entityid:42,taskentityid:114,iid:"",filtervalue:"0",currentkey:"filter",openKeys:["filter"],filters:[],statusFilters:[],classFilters:[],shrinkShow:!0,record:"",defaultActiveKey:"0",SearchFormData:{},searchData:[],s_visible:!1,loading_buttonList:!1,maxHeight:"auto",sysreq_tabs:[],task_tabs:[],createType:"sysreq",viewcode:"list"},a.uuid=0,a.handlesearch=a.handlesearch.bind(a),a.handleChange=a.handleChange.bind(a),a.saveRowData=a.saveRowData.bind(a),a.handleDeletefunction=a.handleDeletefunction.bind(a),a.getDynamicTabs=a.getDynamicTabs.bind(a),a.handleModal=a.handleModal.bind(a),a.handleClick=a.handleClick.bind(a),a.getFilter=a.getFilter.bind(a),a.discuss=a.discuss.bind(a),a.handleLike=a.handleLike.bind(a),a.shrinkLeft=a.shrinkLeft.bind(a),a.getHeader=a.getHeader.bind(a),a.handleMenuClick=a.handleMenuClick.bind(a),a.handleVisibleChange=a.handleVisibleChange.bind(a),a.chooseModalVisible=a.chooseModalVisible.bind(a),a.cancelSearch=a.cancelSearch.bind(a),a.handleSearchForm=a.handleSearchForm.bind(a),a.handleButtonSubmitStatus=a.handleButtonSubmitStatus.bind(a),a.createTask=a.createTask.bind(a),a.getSysReqTabsArray=a.getSysReqTabsArray.bind(a),a.getTaskTabsArray=a.getTaskTabsArray.bind(a),a.saveTask=a.saveTask.bind(a),a.sysReqTabskey={sysreqattr:"entity42_attr",sysreqanalyse:"entity42_reqanalyse",sysreqdoc:"entity42_sysreqdoc",estimation:"entity42_estimation",milestone:"entity42_milestone"},a.taskTabskey={taskattr:"entity114_attr"},a}return(0,E["default"])(t,e),(0,v["default"])(t,[{key:"componentWillMount",value:function(){this.getHeader(),this.getFilter(),this.querySearchFormData(),this.getSysReqTabsArray(),this.getTaskTabsArray(),this.components={},this.components.SearchForm=(0,_.requireFile)("vfm/DynamicForm/SearchForm")}},{key:"componentWillUnmount",value:function(){this.setState=function(e,t){return""}}},{key:"getHeader",value:function(){var e=this;(0,T.vpQuery)(x.entityHeaderUrl,{entityid:e.state.entityid,scode:e.state.viewcode}).then(function(t){var a=e.initHeaders(t.data.grid.fields);e.setState({table_headers:a})})}},{key:"getFilter",value:function(){var e=this;(0,T.vpQuery)(x.entityFilterConfigUrl,{entityid:e.state.entityid}).then(function(t){if(t.hasOwnProperty("data")&&t.data.hasOwnProperty("search")){var a=t.data.search.filters,n=t.data.search.statusFilters,i=t.data.search.classFilters;e.setState({filters:a,statusFilters:n||[],classFilters:i||[]})}})}},{key:"initHeaders",value:function(e){var t=this,a=this,n=e.map(function(e,t){var a={title:e.field_label,dataIndex:e.field_name,key:e.field_name,sorter:!0,width:e.iwidth};return"istatusid"==e.field_name&&(a.render=function(e,t){return S["default"].createElement("div",{className:"indic-wrapper"},S["default"].createElement(T.VpIconFont,{type:"vpicon-circle-o text-primary",className:"m-r-xs"}),e)}),a}),i={title:"操作",key:"operation",fixed:"right",width:"120",render:function(e,n,i){var l=S["default"].createElement(T.VpMenu,null,S["default"].createElement(T.VpMenuItem,{key:"0"},S["default"].createElement("div",{onClick:function(e){return t.createTask(e,n)}},S["default"].createElement(T.VpIconFont,{className:"cursor m-r-xs f16 text-primary",type:""}),"新建任务")),S["default"].createElement(T.VpMenuItem,{key:"1"},S["default"].createElement("div",{onClick:function(e){return t.openSelectedTab(e,n,"srreqanalyse")}},S["default"].createElement(T.VpIconFont,{className:"cursor m-r-xs f16 text-primary",type:""}),"具体需求分析")),S["default"].createElement(T.VpMenuItem,{key:"2"},S["default"].createElement("div",{onClick:function(e){return t.openSelectedTab(e,n,"srreqestimation")}},S["default"].createElement(T.VpIconFont,{className:"cursor m-r-xs f16 text-primary",type:""}),"系统需求评估")),S["default"].createElement(T.VpMenuItem,{key:"3"},S["default"].createElement("div",{onClick:function(e){return t.openSelectedTab(e,n,"reqschedule")}},S["default"].createElement(T.VpIconFont,{className:"cursor m-r-xs f16 text-primary",type:""}),"系统需求排期"))),s=S["default"].createElement(T.VpMenu,null,S["default"].createElement(T.VpMenuItem,{key:"0"},S["default"].createElement("div",{onClick:function(e){return t.openSelectedTab(e,n,"viewDetails")}},S["default"].createElement(T.VpIconFont,{className:"cursor m-r-xs f16 text-primary",type:""}),"查看详情")));return S["default"].createElement("div",null,S["default"].createElement(T.VpTooltip,{placement:"top",title:0==n.ilike?"关注":"取消关注"},S["default"].createElement(T.VpIconFont,{onClick:function(e){return a.handleLike(e,n.ientityid,n.iid)},className:"text-primary m-lr-xs cursor",type:1==n.ilike?"vpicon-star":"vpicon-star-o"})),S["default"].createElement(T.VpTooltip,{placement:"top",title:"评论"},S["default"].createElement(T.VpIconFont,{onClick:function(e){return a.discuss(e,n)},className:"text-primary m-lr-xs cursor",type:"vpicon-pinglun"})),S["default"].createElement(T.VpTooltip,{placement:"top",title:"删除","data-id":n.iid},S["default"].createElement(T.VpPopconfirm,{title:"确定删除?",onConfirm:function(){return t.handleDeletefunction(n)}},S["default"].createElement(T.VpIcon,{type:"vpicon-shanchu",onClick:function(e){return t.stopEvent(e)},className:"cursor m-lr-xs f16 text-danger"}))),"treelist"==a.state.viewcode?S["default"].createElement(T.VpTooltip,{placement:"top",title:"更多"},S["default"].createElement("span",{className:"m-lr-xs cursor"},S["default"].createElement(T.VpDropdown,{overlay:n.ientityid==a.state.entityid?l:n.ientityid==a.state.taskentityid?s:null,trigger:["click"],getPopupContainer:function(e){return document.getElementById("table")}},S["default"].createElement(T.VpIcon,{"data-id":n.iid,className:"cursor",type:"ellipsis",onClick:function(e){return e.stopPropagation()}})))):"list"==a.state.viewcode?S["default"].createElement(T.VpTooltip,{placement:"top",title:"更多"},S["default"].createElement("span",{className:"m-lr-xs cursor"},S["default"].createElement(T.VpDropdown,{overlay:l,trigger:["click"],getPopupContainer:function(e){return document.getElementById("table")}},S["default"].createElement(T.VpIcon,{"data-id":n.iid,className:"cursor",type:"ellipsis",onClick:function(e){return e.stopPropagation()}})))):null)}};return n.push(i),n}},{key:"stopEvent",value:function(e){var t=e;t&&t.stopPropagation?(t.stopPropagation(),t.preventDefault()):window.event&&(t.cancelBubble=!0,t.returnValue=!1)}},{key:"saveRowData",value:function(e,t){t.preventDefault();var a=this,n=(a.props.irelationentity,{});(0,u["default"])(e).forEach(function(t,a){e[t]==undefined?e[t]="":null==e[t]&&(e[t]=0),e[t]instanceof Date&&(e[t]=(0,_.formatDateTime)(e[t])),n[t]=e[t]}),this.props.form.validateFields(function(e,t){e||(a.setState({loading:!0}),(0,T.vpAdd)("{vpvrm}/vrm/busReq/save",{sparam:(0,c["default"])(n),entityid:a.state.entityid,viewcode:"all"},"",5e9).then(function(e){a.setState({showRightBox:!1,loading:!1},a.VpTable.getTableData()),C.RestAlertMsg.showSuccess({msg:"保存成功！"})})["catch"](function(e){a.setState({loading:!1})}))})}},{key:"handleDeletefunction",value:function(e){var t=this;e.ientityid==t.state.entityid&&(t.setState({spinStatus:!0}),(0,T.vpRemove)("{vpvrm}/vrm/busReq/delete",{iid:e.iid,entityid:t.state.entityid},"",5e9).then(function(e){t.setState({spinStatus:!1}),t.VpTable.getTableData(),C.RestAlertMsg.showSuccess({msg:"删除成功！"})})["catch"](function(e){t.setState({spinStatus:!1})})),e.ientityid==t.state.taskentityid&&(t.setState({spinStatus:!0}),(0,T.vpAdd)(x.entityDeleteDataUrl,{iid:e.iid,entityid:t.state.taskentityid},"",5e9).then(function(e){t.setState({spinStatus:!1}),t.VpTable.getTableData(),C.RestAlertMsg.showSuccess({msg:"删除成功！"})})["catch"](function(e){t.setState({spinStatus:!1})}))}},{key:"handleMenuClick",value:function(e){(0,T.vpDownLoad)(x.entityExportfileUrl,{filtervalue:this.state.filtervalue,currentkey:this.state.currentkey,quickvalue:this.state.searchStr,ientityid:this.state.entityid,type:"expdata"})}},{key:"getDynamicTabs",value:function(e,t){var a=this;e?(0,T.vpAdd)(x.entityDynamicTabsUrl,{entityid:this.state.entityid,iid:t}).then(function(e){var t=e.data.tabs;a.setState({tabs_array:t})}):this.setState({tabs_array:[]})}},{key:"editDom",value:function(){var e=this;if(this.state.showRightBox){var t=(this.uuid,this.props.form),a=t.getFieldProps,n=t.getFieldValue;a("keys",{initialValue:[0]});var i={labelCol:{span:6},wrapperCol:{span:14}};n("keys").map(function(t,n){return S["default"].createElement(T.VpCol,{key:t,span:12},S["default"].createElement("div",{className:"p-tb-sm pr accessoy-box"},S["default"].createElement(T.VpTooltip,{placement:"top",title:"删除"},S["default"].createElement(T.VpIconFont,{className:"cursor delete",type:"vpicon-close",onClick:function(){return e.remove(t)}})),S["default"].createElement(T.VpFSelect,(0,l["default"])({label:"附件类型"},i,a("atch_type"+n,{initialValue:"2"})),S["default"].createElement(T.VpSelect,{defaultValue:"2",className:"block"},S["default"].createElement(T.VpOption,{value:"2"},"系统需求说明书"))),S["default"].createElement(T.VpFInput,(0,l["default"])({label:"版本"},i,{placeholder:"请输入版本号"},a("name"+n,{initialValue:"1.0",rules:[{required:!0,message:"请输入版本号"}]}))),S["default"].createElement(T.VpInputUploader,(0,l["default"])({key:t,form:e.props.form,item:{field_name:"doc"+n,widget_type:"inputupload",validator:{required:!0},field_label:"选择文档",all_line:2,tips:"请选择文档（*.doc,*.docx)",widget:{accept:{title:"Doc",extensions:"docx,doc"},upload_url:e.state.uploadUrl}},placeholder:"请输入描述内容"},i)),S["default"].createElement(T.VpFInput,(0,l["default"])({label:"描述",type:"textarea"},i))))});return S["default"].createElement(T.VpTabs,{defaultActiveKey:this.state.defaultActiveKey,destroyInactiveTabPane:!0},this.state.tabs_array.length?this.state.tabs_array.map(function(t,a){if(t.staburl){if("1"==t.ilinktype)return S["default"].createElement(T.VpTabPane,{tab:t.sname,key:t.skey},S["default"].createElement(T.VpIframe,{url:t.staburl+"?entityid="+e.state.entityid+"&iid="+e.state.record.iid}));var n=t.staburl.split("?"),i=n[0],l="";n.length>1&&(l=n[1]);var s=(0,_.requireFile)(i);return S["default"].createElement(T.VpTabPane,{tab:t.sname,key:t.skey},s?S["default"].createElement(s,{skey:t.skey,stabparam:l,isflow:!1,formData:e.state.increaseData,entityid:e.state.record.ientityid,iid:e.state.record.iid,form:e.props.form,busReqId:e.state.record.rbusreqval,iaccesslevel:t.iaccesslevel,entityrole:"1"==t.iaccesslevel,add:!1,row_id:e.state.record.iid,row_entityid:e.state.record.ientityid,closeRightModal:function(){return e.closeRightModal()},refreshList:function(){return e.VpTable.getTableData()},busObjType:2,brname:e.state.record.sname+"-"+e.state.record.scode}):"")}return S["default"].createElement(T.VpTabPane,{tab:t.sname,key:a+"tabs"})}):"sysreq"==this.state.createType?S["default"].createElement(T.VpTabPane,{tab:"属性",key:0},S["default"].createElement(w.VpDynamicForm,{formData:this.state.increaseData,form:this.props.form,okText:"保存",handleOk:this.saveRowData,loading:this.state.loading})):"task"==this.state.createType?S["default"].createElement(T.VpTabPane,{tab:"新建任务",key:0},S["default"].createElement(w.VpDynamicForm,{formData:this.state.increaseData,form:this.props.form,okText:"保存",handleOk:this.saveTask,loading:this.state.loading})):null)}return""}},{key:"handlesearch",value:function(){this.setState({searchData:[],searchStr:this.searchValue,s_visible:!1})}},{key:"handleChange",value:function(e){this.searchValue=e.target.value}},{key:"closeRightModal",value:function(e){var t=this;this.setState({showRightBox:!1,rightBox_type:""},function(){t.props.setBreadCrumb()})}},{key:"handleVisibleChange",value:function(){if(!this.chooseVisible){this.state.SearchFormData.groups.length>0?this.setState({s_visible:!this.state.s_visible}):C.RestAlertMsg.showWarning({msg:"暂无可搜索项，请配置搜索表单！"})}}},{key:"getSysReqTabsArray",value:function(){var e=this;(0,T.vpAdd)(x.entityDynamicTabsUrl,{entityid:e.state.entityid,iid:null,functionid:-100}).then(function(t){var a=t.data.tabs;e.setState({sysreq_tabs:a})})}},{key:"getTaskTabsArray",value:function(){var e=this;(0,T.vpAdd)(x.entityDynamicTabsUrl,{entityid:this.state.taskentityid,iid:null,functionid:-100}).then(function(t){var a=t.data.tabs;e.setState({task_tabs:a})})}},{key:"saveTask",value:function(e,t){t.preventDefault();var a=this,n={};(0,u["default"])(e).forEach(function(t,a){e[t]==undefined?e[t]="":null==e[t]&&(e[t]=0),e[t]instanceof Date&&(e[t]=(0,_.formatDateTime)(e[t])),n[t]=e[t]}),this.props.form.validateFields(function(e,t){e||(a.setState({loading:!0}),(0,T.vpAdd)("/{vpplat}/vfrm/entity/saveFormData",{sparam:(0,c["default"])(n),entityid:a.state.taskentityid,viewcode:"form",variid:0},"",5e9).then(function(e){a.setState({showRightBox:!1,loading:!1},a.VpTable.getTableData())})["catch"](function(e){a.setState({loading:!1})}))})}},{key:"render",value:function(){var e=this.components.SearchForm,t=this,a=S["default"].createElement("div",{className:"search-form bg-white ant-dropdown-menu"},S["default"].createElement(e,{clearSearch:this.clearSearch,chooseModalVisible:this.chooseModalVisible,cancelSearch:this.cancelSearch,handleSearchForm:this.handleSearchForm,formData:this.state.SearchFormData}));return S["default"].createElement("div",{className:"business-container pr full-height entity-rsreq"},S["default"].createElement("div",{className:"subAssembly b-b bg-white",style:t.props.style},S["default"].createElement(T.VpRow,{gutter:10},S["default"].createElement(T.VpCol,{className:"gutter-row text-right",span:4},S["default"].createElement("div",{className:"m-b-sm search"},S["default"].createElement(w.VpSearchInput,{onPressEnter:t.handlesearch,searchButton:t.handlesearch,onChange:t.handleChange,placeholder:"请输入名称或编号搜索..."}))),S["default"].createElement(T.VpCol,{className:"gutter-row text-right",span:20},S["default"].createElement(T.VpTooltip,{placement:"top",title:"快速创建"},S["default"].createElement(T.VpButton,{onClick:t.handleModal,data:"add",type:"primary",className:"m-l-xs",shape:"circle"},S["default"].createElement(T.VpIcon,{data:"add",type:"plus"}))),S["default"].createElement(T.VpTooltip,{placement:"top",title:"导出"},S["default"].createElement(T.VpButton,{type:"primary",shape:"circle",icon:"cloud-download",className:"m-l-xs",onClick:this.handleMenuClick})),S["default"].createElement(T.VpDropdown,{onClick:this.handleVisibleChange,trigger:["click"],overlay:a,onVisibleChange:this.handleVisibleChange,visible:this.state.s_visible},S["default"].createElement("div",{style:{display:"inline-block"},id:"searchbox"},S["default"].createElement(w.FindCheckbox,null))),S["default"].createElement("div",{className:"fr m-l-xs"},S["default"].createElement(T.VpRadioGroup,{defaultValue:"list",className:"radio-tab",onChange:this.handleViewChange},S["default"].createElement(T.VpRadioButton,{value:"treelist"},S["default"].createElement(T.VpTooltip,{placement:"top",title:"树表视图"},S["default"].createElement(T.VpIconFont,{type:"vpicon-file-tree"}))),S["default"].createElement(T.VpRadioButton,{value:"list"},S["default"].createElement(T.VpTooltip,{placement:"top",title:"列表视图"},S["default"].createElement(T.VpIconFont,{type:"vpicon-navlist"})))))))),S["default"].createElement("div",{className:"business-wrapper p-t-sm full-height"},S["default"].createElement("div",{className:"bg-white p-sm full-height entity-rsreqlist"},S["default"].createElement(T.VpRow,{gutter:16,className:"full-height"},S["default"].createElement(T.VpCol,{span:t.state.shrinkShow?"4":"0",className:"full-height menuleft"},S["default"].createElement(T.VpMenu,{className:"full-height scroll-y",onClick:t.handleClick,openKeys:t.state.openKeys,onOpen:t.onToggle,onClose:t.onToggle,selectedKeys:[t.state.filtervalue],mode:"inline"},S["default"].createElement(T.VpSubMenu,{key:"filter",title:S["default"].createElement("span",null,S["default"].createElement(T.VpIconFont,{type:"vpicon-filter",className:"m-r-xs"}),S["default"].createElement("span",null,"过滤器"))},t.state.filters.map(function(e,t){return S["default"].createElement(T.VpMenuItem,{key:e.value},e.name)})),S["default"].createElement(T.VpSubMenu,{key:"status",title:S["default"].createElement("span",null,S["default"].createElement(T.VpIconFont,{type:"vpicon-loading",className:"m-r-xs"}),S["default"].createElement("span",null,"状态"))},t.state.statusFilters.map(function(e,t){return S["default"].createElement(T.VpMenuItem,{key:e.value},e.name)}),S["default"].createElement(T.VpMenuItem,{key:"0"},"全部")),S["default"].createElement(T.VpSubMenu,{key:"class",title:S["default"].createElement("span",null,S["default"].createElement(T.VpIconFont,{type:"vpicon-fenlei",className:"m-r-xs"}),S["default"].createElement("span",null,"类别"))},this.state.classFilters.map(function(e,t){return S["default"].createElement(T.VpMenuItem,{key:e.value},e.name)}),S["default"].createElement(T.VpMenuItem,{key:"0"},"全部"))),t.state.shrinkShow?S["default"].createElement("div",{className:"navswitch cursor text-center",onClick:t.shrinkLeft},S["default"].createElement(T.VpIconFont,{type:"vpicon-navclose"})):""),S["default"].createElement(T.VpCol,{span:t.state.shrinkShow?"20":"24",className:"full-height scroll-y",id:"table"},t.state.shrinkShow?"":S["default"].createElement("div",{className:"shrink p-tb-sm cursor text-center",onClick:t.shrinkLeft},S["default"].createElement(T.VpIconFont,{type:"vpicon-navopen"})),S["default"].createElement(T.VpTable,{ref:function(e){return t.VpTable=e},resize:!0,className:"rsreqTable",columns:t.state.table_headers,loading:this.state.spinStatus,controlAddButton:t.renderHeight,scroll:{y:t.state.maxHeight},onRowClick:t.rowClick,dataUrl:t.state.url,params:{condition:(0,c["default"])(t.state.searchData),quickSearch:t.state.searchStr,viewtype:"list",entityid:t.state.entityid,filtervalue:t.state.filtervalue,currentkey:t.state.currentkey}}))))),S["default"].createElement(w.RightBox,{max:"true",button:S["default"].createElement("div",{className:"icon p-xs",onClick:t.closeRightModal.bind(t)},S["default"].createElement(T.VpTooltip,{placement:"top",title:F["default"].drawerSpinIcon[window.LOCALE]},S["default"].createElement(T.VpIcon,{type:"right"}))),show:t.state.showRightBox},t.editDom()))}}]),t}(S["default"].Component);t["default"]=q=(0,T.VpFormCreate)(q)},1019:function(e,t,a){var n=a(1020);"string"==typeof n&&(n=[[e.id,n,""]]);var i={hmr:!0};i.transform=void 0;a(439)(n,i);n.locals&&(e.exports=n.locals)},1020:function(e,t){}});