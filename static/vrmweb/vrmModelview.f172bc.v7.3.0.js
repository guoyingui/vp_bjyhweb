webpackJsonp([5],{978:function(e,t,l){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=l(14),n=a(r),s=l(687),u=a(s),d=l(54),o=a(d),p=l(55),i=a(p),c=l(59),m=a(c),f=l(93),h=a(f),E=l(8),v=a(E),V=l(4);l(979);var g=function(e){function t(e){(0,o["default"])(this,t);var l=(0,m["default"])(this,(t.__proto__||(0,u["default"])(t)).call(this,e));return l.getTreeData=function(){l.setState({treeStatus:!0});var e=l,t=e.modelId;(0,V.vpQuery)("{vpvrm}/vrm/entpModel/loadAllModel",{modelId:t}).then(function(e){l.setState({treeData:e.data,treeStatus:!1})})["catch"](function(e){l.setState({treeStatus:!1})})},l.loadData=function(e){return(0,V.vpQuery)("{vpvrm}/vrm/entpModel/loadNodes",{level:e.props.item.treeDepth,modelId:e.props.item.propertys.modelId,parentId:e.props.item.tid}).then(function(t){l.treeRef.addChildren(e.props.eventKey,t.data)})["catch"](function(e){})},l.selectree=function(e,t){var a=l,r=t.node;a.setState({assetStatus:!0}),(0,V.vpQuery)("{vpvrm}/vrm/entpModel/listPageEntpAsset",{modelId:r.props.item.propertys.modelId,levelNum:r.props.item.treeDepth,nodeCode:r.props.item.propertys.nodeTableCode}).then(function(e){a.setState({assetStatus:!1})})["catch"](function(e){a.setState({assetStatus:!1})})},l.handleClick=function(e){var t=l;t.state.node},l.state={modelId:"",table_headers:[],table_array:[],pagination:{},node:"",treeStatus:!1,assetStatus:!1,modelTitle:"",modelVisible:!1},l}return(0,h["default"])(t,e),(0,i["default"])(t,[{key:"componentWillMount",value:function(){this.getTreeData()}},{key:"render",value:function(){var e=this,t=[{key:"1",title:"新增资产"}],l=(this.props.form,this.props.form.getFieldProps),a={labelCol:{span:6},wrapperCol:{span:14}};return v["default"].createElement("div",{className:"full-height"},v["default"].createElement(V.VpRow,{gutter:8,className:"full-height"},v["default"].createElement(V.VpCol,{span:6,className:"full-height"},v["default"].createElement("div",{className:"full-height bg-white p-sm"},v["default"].createElement("h4",{className:"p-b-sm fw b-b"},"模型树"),v["default"].createElement(V.VpButton,{type:"primary",size:"small",icon:"plus",onClick:this.addModelTree,style:{"float":"right"},title:"新增模型树"}),v["default"].createElement(V.VpSpin,{spinning:this.state.treeStatus},v["default"].createElement("div",{className:"full-height"},v["default"].createElement(V.VpTree,{ref:function(t){return e.treeRef=t},treeData:this.state.treeData,loadData:this.loadData,titleNode:this.titleNode,onSelect:this.selectree,rightMenuClick:this.handleClick,rightItemList:t,onRightClick:this.onRightClick}))))),v["default"].createElement(V.VpCol,{span:18,className:"full-height"},v["default"].createElement("div",{className:"full-height p-sm bg-white"},v["default"].createElement("h4",{className:"p-b-sm fw b-b"}," 资产信息"),v["default"].createElement(V.VpSpin,{spinning:this.state.assetStatus},v["default"].createElement(V.VpForm,{className:"scroll full-height",horizontal:!0},v["default"].createElement(V.VpRow,null,v["default"].createElement(V.VpCol,{span:8},v["default"].createElement(V.VpFInput,(0,n["default"])({label:"资产id",placeholder:"请输入模型名称"},l("fromEntityId",{rules:[{required:!0,message:"请输入模型名称"}]}),a))),v["default"].createElement(V.VpCol,{span:8}," ",v["default"].createElement(V.VpFInput,(0,n["default"])({label:"模型名称",placeholder:"请输入模型名称"},l("fromEntityId",{rules:[{required:!0,message:"请输入模型名称"}]}),a)))),v["default"].createElement(V.VpRow,null,v["default"].createElement(V.VpCol,{span:8}," ",v["default"].createElement(V.VpFInput,(0,n["default"])({label:"模型名称",placeholder:"请输入模型名称"},l("fromEntityId",{rules:[{required:!0,message:"请输入模型名称"}]}),a))),v["default"].createElement(V.VpCol,{span:8}," ",v["default"].createElement(V.VpFInput,(0,n["default"])({label:"模型编码",placeholder:"请输入模型编码"},l("modelCode",{rules:[{required:!0,message:"请输入模型编码"}]}),a)))),v["default"].createElement(V.VpRow,null,v["default"].createElement(V.VpCol,{span:8}," ",v["default"].createElement(V.VpFInput,(0,n["default"])({label:"关系代码",placeholder:"请输入关系代码"},l("nodeRelType",{rules:[{required:!0,message:"请输入关系代码"}]}),a))),v["default"].createElement(V.VpCol,{span:8},v["default"].createElement(V.VpFSelect,(0,n["default"])({label:"组织形式",placeholder:"请选择组织形式"},a),v["default"].createElement(V.VpSelect,(0,n["default"])({defaultValue:""},l("modelType",{rules:[{required:!0,message:"请选择组织形式"}]})),v["default"].createElement(V.VpOption,{value:"1"},"流程"),v["default"].createElement(V.VpOption,{value:"2"},"产品"))))),v["default"].createElement(V.VpRow,null,v["default"].createElement(V.VpCol,{span:8},v["default"].createElement(V.VpFInput,(0,n["default"])({label:"业务场景描述"},l("modelDec"),{type:"textarea"},a,{placeholder:"请输入模型描述"}))))))))))}}]),t}(v["default"].Component);t["default"]=g=(0,V.VpFormCreate)(g)},979:function(e,t,l){var a=l(980);"string"==typeof a&&(a=[[e.id,a,""]]);var r={hmr:!0};r.transform=void 0;l(439)(a,r);a.locals&&(e.exports=a.locals)},980:function(e,t){}});